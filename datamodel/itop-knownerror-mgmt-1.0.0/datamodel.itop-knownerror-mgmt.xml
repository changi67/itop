<?xml version="1.0" encoding="UTF-8"?>
<itop_design>
  <classes>
    <class name="KnownError" category="bizmodel,searchable,knownerrormgmt" parent="cmdbAbstractObject" abstract="false" key_type="autoincrement" db_table="known_error" db_key_field="id" db_final_class_field="">
      <properties>
        <comment><![CDATA[/**
* Description of known error
*/]]></comment>
        <naming format="%1$s">
          <attributes>
            <attribute name="name"/>
          </attributes>
        </naming>
        <display_template></display_template>
        <icon>images/known-error.png</icon>
        <reconciliation>
          <attributes>
            <attribute name="org_id"/>
            <attribute name="name"/>
          </attributes>
        </reconciliation>
      </properties>
      <fields>
        <field name="name" type="String" sql="name" default_value="" is_null_allowed="false"/>
        <field name="org_id" type="ExternalKey" target_class="Organization" jointype="" sql="cust_id" is_null_allowed="false" on_target_delete="DEL_MANUAL"/>
        <field name="cust_name" type="ExternalField" extkey_attcode="org_id" target_attcode="name"/>
        <field name="problem_id" type="ExternalKey" target_class="Problem" jointype="" sql="problem_id" is_null_allowed="true" on_target_delete="DEL_MANUAL"/>
        <field name="problem_ref" type="ExternalField" extkey_attcode="problem_id" target_attcode="ref"/>
        <field name="symptom" type="Text" sql="symptom" default_value="" is_null_allowed="false"/>
        <field name="root_cause" type="Text" sql="rootcause" default_value="" is_null_allowed="true"/>
        <field name="workaround" type="Text" sql="workaround" default_value="" is_null_allowed="true"/>
        <field name="solution" type="Text" sql="solution" default_value="" is_null_allowed="true"/>
        <field name="error_code" type="String" sql="error_code" default_value="" is_null_allowed="true"/>
        <field name="domain" type="Enum" sql="domain" default_value="Application" is_null_allowed="false">
          <values>
            <value>Network</value>
            <value>Server</value>
            <value>Application</value>
            <value>Desktop</value>
          </values>
        </field>
        <field name="vendor" type="String" sql="vendor" default_value="" is_null_allowed="true"/>
        <field name="model" type="String" sql="model" default_value="" is_null_allowed="true"/>
        <field name="version" type="String" sql="version" default_value="" is_null_allowed="true"/>
        <field name="ci_list" type="LinkedSetIndirect" linked_class="lnkInfraError" ext_key_to_me="error_id" ext_key_to_remote="infra_id" count_min="0" count_max="0"/>
        <field name="document_list" type="LinkedSetIndirect" linked_class="lnkDocumentError" ext_key_to_me="error_id" ext_key_to_remote="doc_id" count_min="0" count_max="0"/>
      </fields>
      <methods/>
      <presentation>
        <details>
          <items>
            <item>name</item>
            <item>org_id</item>
            <item>problem_id</item>
            <item>error_code</item>
            <item>domain</item>
            <item>vendor</item>
            <item>model</item>
            <item>version</item>
            <item>symptom</item>
            <item>root_cause</item>
            <item>workaround</item>
            <item>solution</item>
            <item>ci_list</item>
            <item>document_list</item>
          </items>
        </details>
        <search>
          <items>
            <item>name</item>
            <item>org_id</item>
            <item>problem_id</item>
            <item>error_code</item>
            <item>domain</item>
            <item>symptom</item>
          </items>
        </search>
        <list>
          <items>
            <item>org_id</item>
            <item>problem_id</item>
            <item>error_code</item>
            <item>symptom</item>
          </items>
        </list>
      </presentation>
    </class>
    <class name="lnkInfraError" category="bizmodel,searchable,knownerrormgmt,lnkknownerror" parent="cmdbAbstractObject" abstract="false" key_type="autoincrement" is_link="1" db_table="infra_error_links" db_key_field="link_id" db_final_class_field="">
      <properties>
        <comment><![CDATA[/**
* n-n link between any Infra and a Known Error
*/]]></comment>
        <naming format="lnkInfraError">
          <attributes/>
        </naming>
        <display_template></display_template>
        <icon></icon>
        <reconciliation>
          <attributes>
            <attribute name="infra_id"/>
            <attribute name="error_id"/>
          </attributes>
        </reconciliation>
      </properties>
      <fields>
        <field name="infra_id" type="ExternalKey" target_class="FunctionalCI" jointype="" sql="infra_id" is_null_allowed="false" on_target_delete="DEL_AUTO"/>
        <field name="infra_name" type="ExternalField" extkey_attcode="infra_id" target_attcode="name"/>
        <field name="infra_status" type="ExternalField" extkey_attcode="infra_id" target_attcode="status"/>
        <field name="error_id" type="ExternalKey" target_class="KnownError" jointype="" sql="error_id" is_null_allowed="false" on_target_delete="DEL_AUTO"/>
        <field name="error_name" type="ExternalField" extkey_attcode="error_id" target_attcode="name"/>
        <field name="reason" type="String" sql="dummy" default_value="" is_null_allowed="true"/>
      </fields>
      <methods/>
      <presentation>
        <details>
          <items>
            <item>infra_id</item>
            <item>error_id</item>
            <item>reason</item>
          </items>
        </details>
        <search>
          <items>
            <item>infra_id</item>
            <item>error_id</item>
          </items>
        </search>
        <list>
          <items>
            <item>infra_id</item>
            <item>infra_status</item>
            <item>error_id</item>
            <item>reason</item>
          </items>
        </list>
      </presentation>
    </class>
    <class name="lnkDocumentError" category="bizmodel,searchable,knownerrormgmt,lnkknownerror" parent="cmdbAbstractObject" abstract="false" key_type="autoincrement" is_link="1" db_table="documents_error_link" db_key_field="link_id" db_final_class_field="">
      <properties>
        <comment><![CDATA[/**
* n-n link between any Contract and a Document
*/]]></comment>
        <naming format="%1$s">
          <attributes>
            <attribute name="link_type"/>
          </attributes>
        </naming>
        <display_template>../business/templates/default.html</display_template>
        <icon></icon>
        <reconciliation>
          <attributes>
            <attribute name="doc_id"/>
            <attribute name="error_id"/>
          </attributes>
        </reconciliation>
      </properties>
      <fields>
        <field name="doc_id" type="ExternalKey" target_class="Document" jointype="" sql="doc_id" is_null_allowed="false" on_target_delete="DEL_AUTO"/>
        <field name="doc_name" type="ExternalField" extkey_attcode="doc_id" target_attcode="name"/>
        <field name="error_id" type="ExternalKey" target_class="KnownError" jointype="" sql="error_id" is_null_allowed="false" on_target_delete="DEL_AUTO"/>
        <field name="error_name" type="ExternalField" extkey_attcode="error_id" target_attcode="name"/>
        <field name="link_type" type="String" sql="link_type" default_value="" is_null_allowed="true"/>
      </fields>
      <methods/>
      <presentation>
        <details>
          <items>
            <item>doc_id</item>
            <item>error_name</item>
            <item>link_type</item>
          </items>
        </details>
        <list>
          <items>
            <item>doc_id</item>
            <item>error_name</item>
            <item>link_type</item>
          </items>
        </list>
      </presentation>
    </class>
  </classes>
</itop_design>
