<?xml version="1.0" encoding="UTF-8"?>
<itop_design xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <classes>
    <class name="Organization" category="bizmodel,searchable,structure" parent="cmdbAbstractObject" abstract="false" key_type="autoincrement" db_table="organization" db_key_field="id" db_final_class_field="">
      <properties>
        <comment><![CDATA[/**
 * Persistent classes for a CMDB
 *
 * @author      Erwan Taloc <erwan.taloc@combodo.com>
 * @author      Romain Quetiez <romain.quetiez@combodo.com>
 * @author      Denis Flaven <denis.flaven@combodo.com>
 * @license     http://www.opensource.org/licenses/gpl-3.0.html LGPL
 */]]></comment>
        <naming format="%1$s">
          <attributes>
            <attribute name="name"/>
          </attributes>
        </naming>
        <display_template></display_template>
        <icon></icon>
        <reconciliation>
          <attributes>
            <attribute name="name"/>
          </attributes>
        </reconciliation>
      </properties>
      <fields>
        <field name="name" xsi:type="AttributeString" sql="name" default_value="" is_null_allowed="false"/>
        <field name="code" xsi:type="AttributeString" sql="code" default_value="" is_null_allowed="true"/>
        <field name="status" xsi:type="AttributeEnum" sql="status" default_value="active" is_null_allowed="true">
          <values>
            <value>active</value>
            <value>inactive</value>
          </values>
        </field>
        <field name="parent_id" xsi:type="AttributeHierarchicalKey" sql="parent_id" is_null_allowed="true" on_target_delete="DEL_MANUAL"/>
        <field name="parent_name" xsi:type="AttributeExternalField" extkey_attcode="parent_id" target_attcode="name"/>
      </fields>
      <methods/>
      <presentation>
        <details>
          <items>
            <item>name</item>
            <item>code</item>
            <item>status</item>
            <item>parent_id</item>
          </items>
        </details>
        <search>
          <items>
            <item>name</item>
            <item>code</item>
            <item>status</item>
            <item>parent_id</item>
          </items>
        </search>
        <list>
          <items>
            <item>status</item>
            <item>parent_id</item>
          </items>
        </list>
      </presentation>
    </class>
    <class name="Location" category="bizmodel,searchable,structure" parent="cmdbAbstractObject" abstract="false" key_type="autoincrement" db_table="location" db_key_field="id" db_final_class_field="">
      <properties>
        <naming format="%1$s">
          <attributes>
            <attribute name="name"/>
          </attributes>
        </naming>
        <display_template></display_template>
        <icon>images/location.png</icon>
        <reconciliation>
          <attributes>
            <attribute name="name"/>
            <attribute name="org_id"/>
            <attribute name="org_name"/>
          </attributes>
        </reconciliation>
      </properties>
      <fields>
        <field name="name" xsi:type="AttributeString" sql="name" default_value="" is_null_allowed="false"/>
        <field name="status" xsi:type="AttributeEnum" sql="status" default_value="active" is_null_allowed="true">
          <values>
            <value>active</value>
            <value>inactive</value>
          </values>
        </field>
        <field name="org_id" xsi:type="AttributeExternalKey" target_class="Organization" jointype="" sql="org_id" is_null_allowed="false" on_target_delete="DEL_MANUAL"/>
        <field name="org_name" xsi:type="AttributeExternalField" extkey_attcode="org_id" target_attcode="name"/>
        <field name="address" xsi:type="AttributeText" sql="address" default_value="" is_null_allowed="true"/>
        <field name="postal_code" xsi:type="AttributeString" sql="postal_code" default_value="" is_null_allowed="true"/>
        <field name="city" xsi:type="AttributeString" sql="city" default_value="" is_null_allowed="true"/>
        <field name="country" xsi:type="AttributeString" sql="country" default_value="" is_null_allowed="true"/>
        <field name="parent_id" xsi:type="AttributeHierarchicalKey" filter="SELECT Location AS L WHERE L.org_id = :this-&gt;org_id" sql="parent_id" is_null_allowed="true" on_target_delete="DEL_MANUAL">
          <dependencies>
            <attribute name="org_id"/>
          </dependencies>
        </field>
        <field name="parent_name" xsi:type="AttributeExternalField" extkey_attcode="parent_id" target_attcode="name"/>
        <field name="contact_list" xsi:type="AttributeLinkedSet" linked_class="Contact" ext_key_to_me="location_id" count_min="0" count_max="0"/>
        <field name="infra_list" xsi:type="AttributeLinkedSet" linked_class="InfrastructureCI" ext_key_to_me="location_id" count_min="0" count_max="0"/>
      </fields>
      <methods/>
      <presentation>
        <details>
          <items>
            <item>name</item>
            <item>status</item>
            <item>org_id</item>
            <item>address</item>
            <item>postal_code</item>
            <item>city</item>
            <item>country</item>
            <item>parent_id</item>
            <item>contact_list</item>
            <item>infra_list</item>
          </items>
        </details>
        <search>
          <items>
            <item>name</item>
            <item>status</item>
            <item>org_id</item>
            <item>city</item>
            <item>country</item>
            <item>parent_id</item>
          </items>
        </search>
        <list>
          <items>
            <item>status</item>
            <item>org_id</item>
            <item>city</item>
            <item>country</item>
          </items>
        </list>
      </presentation>
    </class>
    <class name="Contact" category="bizmodel,searchable,structure" parent="cmdbAbstractObject" abstract="true" key_type="autoincrement" db_table="contact" db_key_field="id" db_final_class_field="finalclass">
      <properties>
        <naming format="%1$s">
          <attributes>
            <attribute name="name"/>
          </attributes>
        </naming>
        <display_template></display_template>
        <icon>images/team.png</icon>
        <reconciliation>
          <attributes>
            <attribute name="name"/>
            <attribute name="org_id"/>
            <attribute name="org_name"/>
            <attribute name="email"/>
          </attributes>
        </reconciliation>
      </properties>
      <fields>
        <field name="name" xsi:type="AttributeString" sql="name" default_value="" is_null_allowed="false"/>
        <field name="status" xsi:type="AttributeEnum" sql="status" default_value="active" is_null_allowed="false">
          <values>
            <value>active</value>
            <value>inactive</value>
          </values>
        </field>
        <field name="org_id" xsi:type="AttributeExternalKey" target_class="Organization" jointype="" sql="org_id" is_null_allowed="false" on_target_delete="DEL_MANUAL"/>
        <field name="org_name" xsi:type="AttributeExternalField" extkey_attcode="org_id" target_attcode="name"/>
        <field name="email" xsi:type="AttributeEmailAddress" sql="email" default_value="" is_null_allowed="false"/>
        <field name="phone" xsi:type="AttributeString" sql="phone" default_value="" is_null_allowed="true"/>
        <field name="location_id" xsi:type="AttributeExternalKey" target_class="Location" jointype="" filter="SELECT Location AS L WHERE L.org_id = :this-&gt;org_id" sql="location_id" is_null_allowed="true" on_target_delete="DEL_MANUAL">
          <dependencies>
            <attribute name="org_id"/>
          </dependencies>
        </field>
        <field name="location_name" xsi:type="AttributeExternalField" extkey_attcode="location_id" target_attcode="name"/>
        <field name="contract_list" xsi:type="AttributeLinkedSetIndirect" linked_class="lnkContractToContact" ext_key_to_me="contact_id" ext_key_to_remote="contract_id" count_min="0" count_max="0"/>
        <field name="service_list" xsi:type="AttributeLinkedSetIndirect" linked_class="lnkServiceToContact" ext_key_to_me="contact_id" ext_key_to_remote="service_id" count_min="0" count_max="0"/>
        <field name="ticket_list" xsi:type="AttributeLinkedSetIndirect" linked_class="lnkTicketToContact" ext_key_to_me="contact_id" ext_key_to_remote="ticket_id" count_min="0" count_max="0"/>
        <field name="ci_list" xsi:type="AttributeLinkedSetIndirect" linked_class="lnkCIToContact" ext_key_to_me="contact_id" ext_key_to_remote="ci_id" count_min="0" count_max="0"/>
        <field name="team_list" xsi:type="AttributeLinkedSetIndirect" linked_class="lnkTeamToContact" ext_key_to_me="contact_id" ext_key_to_remote="team_id" count_min="0" count_max="0"/>
      </fields>
      <methods/>
      <presentation>
        <details>
          <items>
            <item>name</item>
            <item>status</item>
            <item>org_id</item>
            <item>email</item>
            <item>phone</item>
            <item>location_id</item>
            <item>contract_list</item>
            <item>service_list</item>
            <item>ticket_list</item>
            <item>ci_list</item>
            <item>team_list</item>
          </items>
        </details>
        <search>
          <items>
            <item>name</item>
            <item>status</item>
            <item>org_id</item>
            <item>email</item>
            <item>phone</item>
            <item>location_id</item>
          </items>
        </search>
        <list>
          <items>
            <item>finalclass</item>
            <item>status</item>
            <item>org_id</item>
            <item>email</item>
            <item>phone</item>
            <item>location_id</item>
          </items>
        </list>
      </presentation>
    </class>
    <class name="Person" category="bizmodel,searchable,structure" parent="Contact" abstract="false" key_type="autoincrement" db_table="person" db_key_field="id" db_final_class_field="">
      <properties>
        <naming format="%1$s %2$s">
          <attributes>
            <attribute name="first_name"/>
            <attribute name="name"/>
          </attributes>
        </naming>
        <display_template></display_template>
        <icon>images/person.png</icon>
        <reconciliation>
          <attributes>
            <attribute name="name"/>
            <attribute name="first_name"/>
            <attribute name="org_id"/>
            <attribute name="email"/>
          </attributes>
        </reconciliation>
      </properties>
      <fields>
        <field name="first_name" xsi:type="AttributeString" sql="first_name" default_value="" is_null_allowed="false"/>
        <field name="employee_id" xsi:type="AttributeString" sql="employee_id" default_value="" is_null_allowed="true"/>
      </fields>
      <methods/>
      <presentation>
        <details>
          <items>
            <item>name</item>
            <item>first_name</item>
            <item>org_id</item>
            <item>status</item>
            <item>location_id</item>
            <item>email</item>
            <item>phone</item>
            <item>employee_id</item>
            <item>team_list</item>
            <item>contract_list</item>
            <item>service_list</item>
            <item>ticket_list</item>
            <item>ci_list</item>
          </items>
        </details>
        <search>
          <items>
            <item>name</item>
            <item>status</item>
            <item>org_id</item>
            <item>email</item>
            <item>phone</item>
            <item>location_id</item>
            <item>first_name</item>
            <item>employee_id</item>
          </items>
        </search>
        <list>
          <items>
            <item>name</item>
            <item>first_name</item>
            <item>status</item>
            <item>org_id</item>
            <item>email</item>
            <item>phone</item>
            <item>location_id</item>
          </items>
        </list>
      </presentation>
    </class>
    <class name="Team" category="bizmodel,searchable,structure" parent="Contact" abstract="false" key_type="autoincrement" db_table="team" db_key_field="id" db_final_class_field="">
      <properties>
        <naming format="%1$s">
          <attributes>
            <attribute name="name"/>
          </attributes>
        </naming>
        <display_template></display_template>
        <icon>images/team.png</icon>
        <reconciliation>
          <attributes>
            <attribute name="name"/>
            <attribute name="org_id"/>
          </attributes>
        </reconciliation>
      </properties>
      <fields>
        <field name="member_list" xsi:type="AttributeLinkedSetIndirect" linked_class="lnkTeamToContact" ext_key_to_me="team_id" ext_key_to_remote="contact_id" count_min="0" count_max="0"/>
      </fields>
      <methods/>
      <presentation>
        <details>
          <items>
            <item>name</item>
            <item>status</item>
            <item>org_id</item>
            <item>location_id</item>
            <item>email</item>
            <item>phone</item>
            <item>member_list</item>
            <item>contract_list</item>
            <item>service_list</item>
            <item>ticket_list</item>
            <item>ci_list</item>
            <item>team_list</item>
          </items>
        </details>
        <search>
          <items>
            <item>name</item>
            <item>status</item>
            <item>org_id</item>
            <item>email</item>
            <item>phone</item>
            <item>location_id</item>
          </items>
        </search>
        <list>
          <items>
            <item>status</item>
            <item>org_id</item>
            <item>email</item>
            <item>phone</item>
            <item>location_id</item>
          </items>
        </list>
      </presentation>
    </class>
    <class name="lnkTeamToContact" category="bizmodel,searchable,structure" parent="cmdbAbstractObject" abstract="false" key_type="autoincrement" is_link="1" db_table="lnkteamtocontact" db_key_field="id" db_final_class_field="">
      <properties>
        <naming format="%1$s">
          <attributes>
            <attribute name="team_id"/>
          </attributes>
        </naming>
        <display_template></display_template>
        <icon></icon>
        <reconciliation>
          <attributes>
            <attribute name=""/>
          </attributes>
        </reconciliation>
      </properties>
      <fields>
        <field name="team_id" xsi:type="AttributeExternalKey" target_class="Team" jointype="" sql="team_id" is_null_allowed="false" on_target_delete="DEL_AUTO"/>
        <field name="team_name" xsi:type="AttributeExternalField" extkey_attcode="team_id" target_attcode="name"/>
        <field name="contact_id" xsi:type="AttributeExternalKey" target_class="Contact" jointype="" sql="contact_id" is_null_allowed="false" on_target_delete="DEL_AUTO"/>
        <field name="contact_name" xsi:type="AttributeExternalField" extkey_attcode="contact_id" target_attcode="name"/>
        <field name="contact_location_id" xsi:type="AttributeExternalField" extkey_attcode="contact_id" target_attcode="location_id"/>
        <field name="contact_location_name" xsi:type="AttributeExternalField" extkey_attcode="contact_id" target_attcode="location_name"/>
        <field name="contact_email" xsi:type="AttributeExternalField" extkey_attcode="contact_id" target_attcode="email"/>
        <field name="contact_phone" xsi:type="AttributeExternalField" extkey_attcode="contact_id" target_attcode="phone"/>
        <field name="role" xsi:type="AttributeString" sql="role" default_value="" is_null_allowed="true"/>
      </fields>
      <methods/>
      <presentation>
        <details>
          <items>
            <item>team_id</item>
            <item>contact_id</item>
            <item>role</item>
          </items>
        </details>
        <search>
          <items>
            <item>team_id</item>
            <item>contact_id</item>
            <item>role</item>
          </items>
        </search>
        <list>
          <items>
            <item>team_id</item>
            <item>contact_id</item>
            <item>contact_location_id</item>
            <item>contact_email</item>
            <item>contact_phone</item>
            <item>role</item>
          </items>
        </list>
      </presentation>
    </class>
    <class name="Document" category="bizmodel,searchable,documentation" parent="cmdbAbstractObject" abstract="true" key_type="autoincrement" db_table="document" db_key_field="id" db_final_class_field="finalclass">
      <properties>
        <naming format="%1$s">
          <attributes>
            <attribute name="name"/>
          </attributes>
        </naming>
        <display_template></display_template>
        <icon>images/document.png</icon>
        <reconciliation>
          <attributes>
            <attribute name="name"/>
            <attribute name="org_id"/>
            <attribute name="org_name"/>
          </attributes>
        </reconciliation>
      </properties>
      <fields>
        <field name="name" xsi:type="AttributeString" sql="name" default_value="" is_null_allowed="false"/>
        <field name="org_id" xsi:type="AttributeExternalKey" target_class="Organization" jointype="" sql="org_id" is_null_allowed="false" on_target_delete="DEL_MANUAL"/>
        <field name="org_name" xsi:type="AttributeExternalField" extkey_attcode="org_id" target_attcode="name"/>
        <field name="description" xsi:type="AttributeText" sql="description" default_value="" is_null_allowed="true"/>
        <field name="type" xsi:type="AttributeEnum" sql="type" default_value="presentation" is_null_allowed="true">
          <values>
            <value>contract</value>
            <value>networkmap</value>
            <value>presentation</value>
            <value>training</value>
            <value>whitePaper</value>
            <value>workinginstructions</value>
          </values>
        </field>
        <field name="status" xsi:type="AttributeEnum" sql="status" default_value="draft" is_null_allowed="false">
          <values>
            <value>draft</value>
            <value>published</value>
            <value>obsolete</value>
          </values>
        </field>
        <field name="contract_list" xsi:type="AttributeLinkedSetIndirect" linked_class="lnkContractToDoc" ext_key_to_me="document_id" ext_key_to_remote="contract_id" count_min="0" count_max="0"/>
        <field name="service_list" xsi:type="AttributeLinkedSetIndirect" linked_class="lnkServiceToDoc" ext_key_to_me="document_id" ext_key_to_remote="service_id" count_min="0" count_max="0"/>
        <field name="ticket_list" xsi:type="AttributeLinkedSetIndirect" linked_class="lnkTicketToDoc" ext_key_to_me="document_id" ext_key_to_remote="ticket_id" count_min="0" count_max="0"/>
        <field name="ci_list" xsi:type="AttributeLinkedSetIndirect" linked_class="lnkCIToDoc" ext_key_to_me="document_id" ext_key_to_remote="ci_id" count_min="0" count_max="0"/>
      </fields>
      <methods/>
      <presentation>
        <details>
          <items>
            <item>name</item>
            <item>org_id</item>
            <item>description</item>
            <item>type</item>
            <item>status</item>
            <item>contract_list</item>
            <item>service_list</item>
            <item>ticket_list</item>
            <item>ci_list</item>
          </items>
        </details>
        <search>
          <items>
            <item>name</item>
            <item>org_id</item>
            <item>description</item>
            <item>type</item>
            <item>status</item>
          </items>
        </search>
        <list>
          <items>
            <item>org_id</item>
            <item>type</item>
            <item>status</item>
          </items>
        </list>
      </presentation>
    </class>
    <class name="WebDoc" category="bizmodel,searchable,documentation" parent="Document" abstract="false" key_type="autoincrement" db_table="externaldoc" db_key_field="id" db_final_class_field="">
      <properties>
        <naming format="%1$s">
          <attributes>
            <attribute name="name"/>
          </attributes>
        </naming>
        <display_template></display_template>
        <icon>images/document.png</icon>
        <reconciliation>
          <attributes>
            <attribute name="name"/>
            <attribute name="org_id"/>
            <attribute name="org_name"/>
          </attributes>
        </reconciliation>
      </properties>
      <fields>
        <field name="url" xsi:type="AttributeURL" target="_blank" sql="url" default_value="" is_null_allowed="false"/>
      </fields>
      <methods/>
      <presentation>
        <details>
          <items>
            <item>name</item>
            <item>org_id</item>
            <item>description</item>
            <item>type</item>
            <item>status</item>
            <item>contract_list</item>
            <item>service_list</item>
            <item>ticket_list</item>
            <item>ci_list</item>
            <item>url</item>
          </items>
        </details>
        <search>
          <items>
            <item>name</item>
            <item>org_id</item>
            <item>description</item>
            <item>type</item>
            <item>status</item>
            <item>url</item>
          </items>
        </search>
        <list>
          <items>
            <item>org_id</item>
            <item>type</item>
            <item>status</item>
            <item>url</item>
          </items>
        </list>
      </presentation>
    </class>
    <class name="Note" category="bizmodel,searchable,documentation" parent="Document" abstract="false" key_type="autoincrement" db_table="note" db_key_field="id" db_final_class_field="">
      <properties>
        <naming format="%1$s">
          <attributes>
            <attribute name="name"/>
          </attributes>
        </naming>
        <display_template></display_template>
        <icon>images/document.png</icon>
        <reconciliation>
          <attributes>
            <attribute name="name"/>
            <attribute name="org_id"/>
            <attribute name="org_name"/>
          </attributes>
        </reconciliation>
      </properties>
      <fields>
        <field name="note" xsi:type="AttributeText" sql="note" default_value="" is_null_allowed="true"/>
      </fields>
      <methods/>
      <presentation>
        <details>
          <items>
            <item>name</item>
            <item>org_id</item>
            <item>description</item>
            <item>type</item>
            <item>status</item>
            <item>contract_list</item>
            <item>service_list</item>
            <item>ticket_list</item>
            <item>ci_list</item>
            <item>note</item>
          </items>
        </details>
        <search>
          <items>
            <item>name</item>
            <item>org_id</item>
            <item>description</item>
            <item>type</item>
            <item>status</item>
            <item>note</item>
          </items>
        </search>
        <list>
          <items>
            <item>org_id</item>
            <item>type</item>
            <item>status</item>
            <item>note</item>
          </items>
        </list>
      </presentation>
    </class>
    <class name="FileDoc" category="bizmodel,searchable,documentation" parent="Document" abstract="false" key_type="autoincrement" db_table="filedoc" db_key_field="id" db_final_class_field="">
      <properties>
        <naming format="%1$s">
          <attributes>
            <attribute name="name"/>
          </attributes>
        </naming>
        <display_template></display_template>
        <icon>images/document.png</icon>
        <reconciliation>
          <attributes>
            <attribute name="name"/>
            <attribute name="org_id"/>
            <attribute name="org_name"/>
          </attributes>
        </reconciliation>
      </properties>
      <fields>
        <field name="contents" xsi:type="AttributeBlob"/>
      </fields>
      <methods>
        <method name="DisplayBareProperties" static="false" access="public" type="Overload-cmdbAbstractObject"><comment><![CDATA[/**
	 * Overload the display of the properties to add a tab (the first one)
	 * with the preview of the document
	 */]]></comment><![CDATA[	public function DisplayBareProperties(WebPage $oPage, $bEditMode = false, $sPrefix = '', $aExtraParams = array())
	{
		if (!$bEditMode)
		{
			$oPage->SetCurrentTab(Dict::S('Class:Document:PreviewTab'));
			$oPage->add($this->DisplayDocumentInline($oPage, 'contents'));
			$oPage->SetCurrentTab(Dict::S('UI:PropertiesTab'));
		}
		parent::DisplayBareProperties($oPage, $bEditMode, $sPrefix, $aExtraParams);
		
	}]]></method>
      </methods>
      <presentation>
        <details>
          <items>
            <item>name</item>
            <item>org_id</item>
            <item>description</item>
            <item>type</item>
            <item>status</item>
            <item>contract_list</item>
            <item>service_list</item>
            <item>ticket_list</item>
            <item>ci_list</item>
            <item>contents</item>
          </items>
        </details>
        <search>
          <items>
            <item>name</item>
            <item>org_id</item>
            <item>description</item>
            <item>type</item>
            <item>status</item>
          </items>
        </search>
        <list>
          <items>
            <item>org_id</item>
            <item>type</item>
            <item>status</item>
            <item>contents</item>
          </items>
        </list>
      </presentation>
    </class>
    <class name="Licence" category="bizmodel,searchable,configmgmt" parent="cmdbAbstractObject" abstract="false" key_type="autoincrement" db_table="licence" db_key_field="id" db_final_class_field="">
      <properties>
        <naming format="%1$s">
          <attributes>
            <attribute name="name"/>
          </attributes>
        </naming>
        <display_template></display_template>
        <icon>images/licence.png</icon>
        <reconciliation>
          <attributes>
            <attribute name="name"/>
            <attribute name="org_id"/>
            <attribute name="org_name"/>
          </attributes>
        </reconciliation>
      </properties>
      <fields>
        <field name="provider" xsi:type="AttributeString" sql="provider" default_value="" is_null_allowed="false"/>
        <field name="org_id" xsi:type="AttributeExternalKey" target_class="Organization" jointype="" sql="org_id" is_null_allowed="false" on_target_delete="DEL_MANUAL"/>
        <field name="org_name" xsi:type="AttributeExternalField" extkey_attcode="org_id" target_attcode="name"/>
        <field name="product" xsi:type="AttributeString" sql="product" default_value="" is_null_allowed="false"/>
        <field name="name" xsi:type="AttributeString" sql="name" default_value="" is_null_allowed="false"/>
        <field name="start" xsi:type="AttributeDate" sql="start" default_value="" is_null_allowed="true"/>
        <field name="end" xsi:type="AttributeDate" sql="end" default_value="" is_null_allowed="true"/>
        <field name="licence_key" xsi:type="AttributeString" sql="licence_key" default_value="" is_null_allowed="true"/>
        <field name="scope" xsi:type="AttributeText" sql="scope" default_value="" is_null_allowed="true"/>
        <field name="usage_limit" xsi:type="AttributeInteger" sql="usage_limit" default_value="" is_null_allowed="true"/>
        <field name="usage_list" xsi:type="AttributeLinkedSet" linked_class="SoftwareInstance" ext_key_to_me="licence_id" count_min="0" count_max="0"/>
      </fields>
      <methods/>
      <presentation>
        <details>
          <items>
            <item>name</item>
            <item>org_id</item>
            <item>provider</item>
            <item>product</item>
            <item>start</item>
            <item>end</item>
            <item>licence_key</item>
            <item>scope</item>
            <item>usage_limit</item>
            <item>usage_list</item>
          </items>
        </details>
        <search>
          <items>
            <item>org_id</item>
            <item>provider</item>
            <item>product</item>
            <item>name</item>
            <item>start</item>
            <item>end</item>
            <item>licence_key</item>
            <item>scope</item>
          </items>
        </search>
        <list>
          <items>
            <item>org_id</item>
            <item>provider</item>
            <item>product</item>
            <item>start</item>
            <item>end</item>
          </items>
        </list>
      </presentation>
    </class>
    <class name="Subnet" category="bizmodel,searchable,configmgmt" parent="cmdbAbstractObject" abstract="false" key_type="autoincrement" db_table="subnet" db_key_field="id" db_final_class_field="">
      <properties>
        <naming format="%1$s / %2$s">
          <attributes>
            <attribute name="ip"/>
            <attribute name="ip_mask"/>
          </attributes>
        </naming>
        <display_template></display_template>
        <icon>images/subnet.png</icon>
        <reconciliation>
          <attributes>
            <attribute name="ip"/>
            <attribute name="ip_mask"/>
            <attribute name="org_id"/>
            <attribute name="org_name"/>
          </attributes>
        </reconciliation>
      </properties>
      <fields>
        <field name="description" xsi:type="AttributeText" sql="description" default_value="" is_null_allowed="true"/>
        <field name="org_id" xsi:type="AttributeExternalKey" target_class="Organization" jointype="" sql="org_id" is_null_allowed="false" on_target_delete="DEL_MANUAL"/>
        <field name="org_name" xsi:type="AttributeExternalField" extkey_attcode="org_id" target_attcode="name"/>
        <field name="ip" xsi:type="AttributeIPAddress" sql="ip" default_value="" is_null_allowed="false"/>
        <field name="ip_mask" xsi:type="AttributeIPAddress" sql="ip_mask" default_value="" is_null_allowed="false"/>
      </fields>
      <methods>
        <method name="DisplayBareRelations" static="false" access="public" type="Overload-cmdbAbstractObject"><![CDATA[	function DisplayBareRelations(WebPage $oPage, $bEditMode = false)
	{
		parent::DisplayBareRelations($oPage, $bEditMode);

		if (!$bEditMode)
		{
			$oPage->SetCurrentTab(Dict::S('Class:Subnet/Tab:IPUsage'));
	
			$bit_ip = ip2long($this->Get('ip'));
			$bit_mask = ip2long($this->Get('ip_mask'));
	
			$iIPMin = sprintf('%u', ($bit_ip & $bit_mask) | 1); // exclude the first one: identifies the subnet itself
			$iIPMax = sprintf('%u', (($bit_ip | (~$bit_mask))) & 0xfffffffe); // exclude the last one : broadcast address
			
			$sIPMin = long2ip($iIPMin);
			$sIPMax = long2ip($iIPMax);
	
			$oPage->p(Dict::Format('Class:Subnet/Tab:IPUsage-explain', $sIPMin, $sIPMax));
			
			$oIfFilter = DBObjectSearch::FromOQL("SELECT NetworkInterface AS if WHERE INET_ATON(if.ip_address) >= INET_ATON('$sIPMin') AND INET_ATON(if.ip_address) <= INET_ATON('$sIPMax')");
			$oIfSet = new CMDBObjectSet($oIfFilter);
			$oBlock = new DisplayBlock($oIfFilter, 'list', false);
			$oBlock->Display($oPage, 'nwif', array('menu' => false));
	
			$iCountUsed = $oIfSet->Count();
			$iCountRange = $iIPMax - $iIPMin; // On 32-bit systems the substraction will be computed using floats for values greater than PHP_MAX_INT;
			$iFreeCount =  $iCountRange - $iCountUsed;
	
			$oPage->SetCurrentTab(Dict::S('Class:Subnet/Tab:FreeIPs'));
			$oPage->p(Dict::Format('Class:Subnet/Tab:FreeIPs-count', $iFreeCount));
			$oPage->p(Dict::S('Class:Subnet/Tab:FreeIPs-explain'));
	
			$aUsedIPs = $oIfSet->GetColumnAsArray('ip_address', false);
			$iAnIP = $iIPMin;
			$iFound = 0;
			while (($iFound < min($iFreeCount, 10)) && ($iAnIP <= $iIPMax))
			{
				$sAnIP = long2ip($iAnIP);
				if (!in_array($sAnIP, $aUsedIPs))
				{
					$iFound++;
					$oPage->p($sAnIP);
				}
				else
				{
				}
				$iAnIP++;
			}
		}
	}]]></method>
      </methods>
      <presentation>
        <details>
          <items>
            <item>ip</item>
            <item>ip_mask</item>
            <item>org_id</item>
            <item>description</item>
          </items>
        </details>
        <search>
          <items>
            <item>ip</item>
            <item>ip_mask</item>
            <item>org_id</item>
            <item>description</item>
          </items>
        </search>
        <list>
          <items>
            <item>ip</item>
            <item>ip_mask</item>
            <item>org_id</item>
          </items>
        </list>
      </presentation>
    </class>
    <class name="Patch" category="bizmodel,searchable,configmgmt" parent="cmdbAbstractObject" abstract="false" key_type="autoincrement" db_table="patch" db_key_field="id" db_final_class_field="">
      <properties>
        <naming format="%1$s">
          <attributes>
            <attribute name="name"/>
          </attributes>
        </naming>
        <display_template></display_template>
        <icon>images/patch.png</icon>
        <reconciliation>
          <attributes>
            <attribute name="name"/>
          </attributes>
        </reconciliation>
      </properties>
      <fields>
        <field name="name" xsi:type="AttributeString" sql="name" default_value="" is_null_allowed="false"/>
        <field name="description" xsi:type="AttributeText" sql="description" default_value="" is_null_allowed="true"/>
        <field name="target_sw" xsi:type="AttributeString" sql="target_sw" default_value="" is_null_allowed="true"/>
        <field name="version" xsi:type="AttributeString" sql="version" default_value="" is_null_allowed="true"/>
        <field name="type" xsi:type="AttributeEnum" sql="type" default_value="security" is_null_allowed="false">
          <values>
            <value>application</value>
            <value>os</value>
            <value>security</value>
            <value>servicepack</value>
          </values>
        </field>
        <field name="ci_list" xsi:type="AttributeLinkedSetIndirect" linked_class="lnkPatchToCI" ext_key_to_me="patch_id" ext_key_to_remote="ci_id" count_min="0" count_max="0"/>
      </fields>
      <methods/>
      <presentation>
        <details>
          <items>
            <item>name</item>
            <item>description</item>
            <item>target_sw</item>
            <item>version</item>
            <item>type</item>
            <item>ci_list</item>
          </items>
        </details>
        <search>
          <items>
            <item>name</item>
            <item>target_sw</item>
            <item>version</item>
            <item>type</item>
            <item>description</item>
          </items>
        </search>
        <list>
          <items>
            <item>target_sw</item>
            <item>version</item>
            <item>type</item>
          </items>
        </list>
      </presentation>
    </class>
    <class name="Software" category="bizmodel,searchable,configmgmt" parent="cmdbAbstractObject" abstract="true" key_type="autoincrement" db_table="software" db_key_field="id" db_final_class_field="finalclass">
      <properties>
        <naming format="%1$s">
          <attributes>
            <attribute name="name"/>
          </attributes>
        </naming>
        <display_template></display_template>
        <icon>images/software.png</icon>
        <reconciliation>
          <attributes>
            <attribute name="name"/>
          </attributes>
        </reconciliation>
      </properties>
      <fields>
        <field name="name" xsi:type="AttributeString" sql="name" default_value="" is_null_allowed="false"/>
        <field name="description" xsi:type="AttributeText" sql="description" default_value="" is_null_allowed="true"/>
      </fields>
      <methods/>
      <presentation>
        <details>
          <items>
            <item>name</item>
            <item>description</item>
          </items>
        </details>
        <search>
          <items>
            <item>name</item>
            <item>description</item>
          </items>
        </search>
        <list>
          <items>
            <item>description</item>
          </items>
        </list>
      </presentation>
    </class>
    <class name="Application" category="bizmodel,searchable,configmgmt" parent="Software" abstract="false" key_type="autoincrement" db_table="software_app" db_key_field="id" db_final_class_field="">
      <properties>
        <naming format="%1$s">
          <attributes>
            <attribute name="name"/>
          </attributes>
        </naming>
        <display_template></display_template>
        <icon>images/software.png</icon>
        <reconciliation>
          <attributes>
            <attribute name="name"/>
          </attributes>
        </reconciliation>
      </properties>
      <fields>
        <field name="instance_list" xsi:type="AttributeLinkedSet" linked_class="ApplicationInstance" ext_key_to_me="software_id" count_min="0" count_max="0"/>
      </fields>
      <methods/>
      <presentation>
        <details>
          <items>
            <item>name</item>
            <item>description</item>
            <item>instance_list</item>
          </items>
        </details>
        <search>
          <items>
            <item>name</item>
            <item>description</item>
          </items>
        </search>
        <list>
          <items>
            <item>description</item>
          </items>
        </list>
      </presentation>
    </class>
    <class name="DBServer" category="bizmodel,searchable,configmgmt" parent="Software" abstract="false" key_type="autoincrement" db_table="software_db" db_key_field="id" db_final_class_field="">
      <properties>
        <naming format="%1$s">
          <attributes>
            <attribute name="name"/>
          </attributes>
        </naming>
        <display_template></display_template>
        <icon>images/software.png</icon>
        <reconciliation>
          <attributes>
            <attribute name="name"/>
          </attributes>
        </reconciliation>
      </properties>
      <fields>
        <field name="instance_list" xsi:type="AttributeLinkedSet" linked_class="DBServerInstance" ext_key_to_me="software_id" count_min="0" count_max="0"/>
      </fields>
      <methods/>
      <presentation>
        <details>
          <items>
            <item>name</item>
            <item>description</item>
            <item>instance_list</item>
          </items>
        </details>
        <search>
          <items>
            <item>name</item>
            <item>description</item>
          </items>
        </search>
        <list>
          <items>
            <item>description</item>
          </items>
        </list>
      </presentation>
    </class>
    <class name="lnkPatchToCI" category="bizmodel,configmgmt" parent="cmdbAbstractObject" abstract="false" key_type="autoincrement" is_link="1" db_table="lnkpatchtoci" db_key_field="id" db_final_class_field="">
      <properties>
        <naming format="%1$s">
          <attributes>
            <attribute name="patch_id"/>
          </attributes>
        </naming>
        <display_template></display_template>
        <icon></icon>
        <reconciliation>
          <attributes>
            <attribute name="patch_id"/>
            <attribute name="ci_id"/>
          </attributes>
        </reconciliation>
      </properties>
      <fields>
        <field name="patch_id" xsi:type="AttributeExternalKey" target_class="Patch" jointype="" sql="patch_id" is_null_allowed="false" on_target_delete="DEL_AUTO"/>
        <field name="patch_name" xsi:type="AttributeExternalField" extkey_attcode="patch_id" target_attcode="name"/>
        <field name="ci_id" xsi:type="AttributeExternalKey" target_class="Device" jointype="" sql="ci_id" is_null_allowed="false" on_target_delete="DEL_AUTO"/>
        <field name="ci_name" xsi:type="AttributeExternalField" extkey_attcode="ci_id" target_attcode="name"/>
        <field name="ci_status" xsi:type="AttributeExternalField" extkey_attcode="ci_id" target_attcode="status"/>
      </fields>
      <methods/>
      <presentation>
        <details>
          <items>
            <item>patch_id</item>
            <item>ci_id</item>
            <item>ci_status</item>
          </items>
        </details>
        <search>
          <items>
            <item>patch_id</item>
            <item>ci_id</item>
          </items>
        </search>
        <list>
          <items>
            <item>patch_id</item>
            <item>ci_id</item>
            <item>ci_status</item>
          </items>
        </list>
      </presentation>
    </class>
    <class name="FunctionalCI" category="bizmodel,searchable,configmgmt" parent="cmdbAbstractObject" abstract="true" key_type="autoincrement" db_table="functionalci" db_key_field="id" db_final_class_field="finalclass">
      <properties>
        <naming format="%1$s">
          <attributes>
            <attribute name="name"/>
          </attributes>
        </naming>
        <display_template></display_template>
        <icon>images/server.png</icon>
        <reconciliation>
          <attributes>
            <attribute name="name"/>
            <attribute name="org_id"/>
            <attribute name="owner_name"/>
          </attributes>
        </reconciliation>
      </properties>
      <fields>
        <field name="name" xsi:type="AttributeString" sql="name" default_value="" is_null_allowed="false"/>
        <field name="status" xsi:type="AttributeEnum" sql="status" default_value="implementation" is_null_allowed="false">
          <values>
            <value>implementation</value>
            <value>production</value>
            <value>obsolete</value>
          </values>
        </field>
        <field name="org_id" xsi:type="AttributeExternalKey" target_class="Organization" jointype="" sql="org_id" is_null_allowed="false" on_target_delete="DEL_MANUAL"/>
        <field name="owner_name" xsi:type="AttributeExternalField" extkey_attcode="org_id" target_attcode="name"/>
        <field name="importance" xsi:type="AttributeEnum" sql="importance" default_value="medium" is_null_allowed="false">
          <values>
            <value>low</value>
            <value>medium</value>
            <value>high</value>
          </values>
        </field>
        <field name="contact_list" xsi:type="AttributeLinkedSetIndirect" linked_class="lnkCIToContact" ext_key_to_me="ci_id" ext_key_to_remote="contact_id" count_min="0" count_max="0"/>
        <field name="document_list" xsi:type="AttributeLinkedSetIndirect" linked_class="lnkCIToDoc" ext_key_to_me="ci_id" ext_key_to_remote="document_id" count_min="0" count_max="0"/>
        <field name="solution_list" xsi:type="AttributeLinkedSetIndirect" linked_class="lnkSolutionToCI" ext_key_to_me="ci_id" ext_key_to_remote="solution_id" count_min="0" count_max="0"/>
        <field name="contract_list" xsi:type="AttributeLinkedSetIndirect" linked_class="lnkContractToCI" ext_key_to_me="ci_id" ext_key_to_remote="contract_id" count_min="0" count_max="0"/>
        <field name="ticket_list" xsi:type="AttributeLinkedSetIndirect" linked_class="lnkTicketToCI" ext_key_to_me="ci_id" ext_key_to_remote="ticket_id" count_min="0" count_max="0"/>
      </fields>
      <methods>
        <method name="GetRelationQueries" static="true" access="public" type="Overload-DBObject"><![CDATA[	public static function GetRelationQueries($sRelCode)
	{
		switch ($sRelCode)
		{
		case "impacts":
			$aRels = array(
				"contact" => array("sQuery"=>"SELECT Contact AS c JOIN lnkCIToContact AS l1 ON l1.contact_id = c.id WHERE l1.ci_id = :this->id", "bPropagate"=>true, "iDistance"=>3),
				"solution" => array("sQuery"=>"SELECT ApplicationSolution AS s JOIN lnkSolutionToCI AS l1 ON l1.solution_id = s.id WHERE l1.ci_id = :this->id", "bPropagate"=>true, "iDistance"=>2),
			);
			return array_merge($aRels, parent::GetRelationQueries($sRelCode));
			break;
		default:
			return parent::GetRelationQueries($sRelCode);
		}
	}]]></method>
      </methods>
      <presentation>
        <details>
          <items>
            <item>name</item>
            <item>status</item>
            <item>org_id</item>
            <item>importance</item>
            <item>contact_list</item>
            <item>document_list</item>
            <item>solution_list</item>
            <item>contract_list</item>
            <item>ticket_list</item>
          </items>
        </details>
        <search>
          <items>
            <item>name</item>
            <item>status</item>
            <item>org_id</item>
            <item>importance</item>
          </items>
        </search>
        <list>
          <items>
            <item>finalclass</item>
            <item>status</item>
            <item>org_id</item>
            <item>importance</item>
          </items>
        </list>
      </presentation>
    </class>
    <class name="SoftwareInstance" category="bizmodel,searchable,configmgmt" parent="FunctionalCI" abstract="true" key_type="autoincrement" db_table="softwareinstance" db_key_field="id" db_final_class_field="">
      <properties>
        <naming format="%1$s - %2$s">
          <attributes>
            <attribute name="name"/>
            <attribute name="device_id_friendlyname"/>
          </attributes>
        </naming>
        <display_template></display_template>
        <icon>images/application.png</icon>
        <reconciliation>
          <attributes>
            <attribute name="name"/>
            <attribute name="device_id"/>
            <attribute name="device_name"/>
            <attribute name="org_id"/>
            <attribute name="owner_name"/>
          </attributes>
        </reconciliation>
      </properties>
      <fields>
        <field name="device_id" xsi:type="AttributeExternalKey" target_class="Device" jointype="" filter="SELECT Device WHERE org_id = :this-&gt;org_id" sql="device_id" is_null_allowed="false" on_target_delete="DEL_MANUAL">
          <dependencies>
            <attribute name="org_id"/>
          </dependencies>
        </field>
        <field name="device_name" xsi:type="AttributeExternalField" extkey_attcode="device_id" target_attcode="name"/>
        <field name="licence_id" xsi:type="AttributeExternalKey" target_class="Licence" jointype="" filter="SELECT Licence WHERE org_id = :this-&gt;org_id" sql="licence_id" is_null_allowed="true" on_target_delete="DEL_MANUAL">
          <dependencies>
            <attribute name="org_id"/>
          </dependencies>
        </field>
        <field name="licence_name" xsi:type="AttributeExternalField" extkey_attcode="licence_id" target_attcode="name"/>
        <field name="version" xsi:type="AttributeString" sql="version" default_value="" is_null_allowed="true"/>
        <field name="description" xsi:type="AttributeText" sql="description" default_value="" is_null_allowed="true"/>
      </fields>
      <methods>
        <method name="ComputeValues" static="false" access="public" type="Overload-DBObject"><![CDATA[	public function ComputeValues()
	{
	}]]></method>
        <method name="GetRelationQueries" static="true" access="public" type="Overload-DBObject"><![CDATA[	public static function GetRelationQueries($sRelCode)
	{
		switch ($sRelCode)
		{
			case "impacts":
			$aRels = array(
				// Actually this should be limited to the Software instances based on a DBServer Application type...
				"db_instances" => array("sQuery"=>"SELECT DatabaseInstance AS db WHERE db.db_server_instance_id = :this->id", "bPropagate"=>true, "iDistance"=>5),
			);
			return array_merge($aRels, parent::GetRelationQueries($sRelCode));
			break;
			
			case 'depends on':
			$aRels = array(
				"applications" => array("sQuery"=>"SELECT Device JOIN SoftwareInstance AS app ON app.device_id = Device.id WHERE app.id = :this->id", "bPropagate"=>true, "iDistance"=>5),			
			);
			return array_merge($aRels, parent::GetRelationQueries($sRelCode));
			break;
			
			default:
			return parent::GetRelationQueries($sRelCode);			
		}
	}]]></method>
      </methods>
      <presentation>
        <details>
          <items>
            <item>name</item>
            <item>status</item>
            <item>org_id</item>
            <item>importance</item>
            <item>device_id</item>
            <item>licence_id</item>
            <item>version</item>
            <item>description</item>
            <item>contact_list</item>
            <item>document_list</item>
            <item>solution_list</item>
            <item>contract_list</item>
            <item>ticket_list</item>
          </items>
        </details>
        <search>
          <items>
            <item>status</item>
            <item>org_id</item>
            <item>importance</item>
            <item>device_id</item>
            <item>licence_id</item>
            <item>version</item>
          </items>
        </search>
        <list>
          <items>
            <item>finalclass</item>
            <item>status</item>
            <item>org_id</item>
            <item>importance</item>
            <item>device_id</item>
            <item>version</item>
          </items>
        </list>
      </presentation>
    </class>
    <class name="DBServerInstance" category="bizmodel,searchable,configmgmt" parent="SoftwareInstance" abstract="false" key_type="autoincrement" db_table="softwareinstance_dbserver" db_key_field="id" db_final_class_field="">
      <properties>
        <naming format="%1$s - %2$s">
          <attributes>
            <attribute name="name"/>
            <attribute name="device_id_friendlyname"/>
          </attributes>
        </naming>
        <display_template></display_template>
        <icon>images/database.png</icon>
        <reconciliation>
          <attributes>
            <attribute name="name"/>
            <attribute name="software_id"/>
            <attribute name="software_name"/>
            <attribute name="device_id"/>
            <attribute name="device_name"/>
            <attribute name="org_id"/>
            <attribute name="owner_name"/>
          </attributes>
        </reconciliation>
      </properties>
      <fields>
        <field name="software_id" xsi:type="AttributeExternalKey" target_class="DBServer" jointype="" sql="software_id" is_null_allowed="false" on_target_delete="DEL_MANUAL"/>
        <field name="software_name" xsi:type="AttributeExternalField" extkey_attcode="software_id" target_attcode="name"/>
        <field name="dbinstance_list" xsi:type="AttributeLinkedSet" linked_class="DatabaseInstance" ext_key_to_me="db_server_instance_id" count_min="0" count_max="0"/>
      </fields>
      <methods/>
      <presentation>
        <details>
          <items>
            <item>name</item>
            <item>status</item>
            <item>org_id</item>
            <item>importance</item>
            <item>device_id</item>
            <item>licence_id</item>
            <item>software_id</item>
            <item>version</item>
            <item>description</item>
            <item>contact_list</item>
            <item>document_list</item>
            <item>solution_list</item>
            <item>contract_list</item>
            <item>ticket_list</item>
            <item>dbinstance_list</item>
          </items>
        </details>
        <search>
          <items>
            <item>status</item>
            <item>org_id</item>
            <item>importance</item>
            <item>device_id</item>
            <item>licence_id</item>
            <item>software_id</item>
            <item>version</item>
          </items>
        </search>
        <list>
          <items>
            <item>status</item>
            <item>org_id</item>
            <item>importance</item>
            <item>device_id</item>
            <item>software_id</item>
            <item>version</item>
          </items>
        </list>
      </presentation>
    </class>
    <class name="ApplicationInstance" category="bizmodel,searchable,configmgmt" parent="SoftwareInstance" abstract="false" key_type="autoincrement" db_table="softwareinstance_application" db_key_field="id" db_final_class_field="">
      <properties>
        <naming format="%1$s - %2$s">
          <attributes>
            <attribute name="name"/>
            <attribute name="device_id_friendlyname"/>
          </attributes>
        </naming>
        <display_template></display_template>
        <icon>images/application.png</icon>
        <reconciliation>
          <attributes>
            <attribute name="name"/>
            <attribute name="software_id"/>
            <attribute name="software_name"/>
            <attribute name="device_id"/>
            <attribute name="device_name"/>
            <attribute name="org_id"/>
            <attribute name="owner_name"/>
          </attributes>
        </reconciliation>
      </properties>
      <fields>
        <field name="software_id" xsi:type="AttributeExternalKey" target_class="Application" jointype="" sql="software_id" is_null_allowed="false" on_target_delete="DEL_MANUAL"/>
        <field name="software_name" xsi:type="AttributeExternalField" extkey_attcode="software_id" target_attcode="name"/>
      </fields>
      <methods/>
      <presentation>
        <details>
          <items>
            <item>name</item>
            <item>status</item>
            <item>org_id</item>
            <item>importance</item>
            <item>device_id</item>
            <item>licence_id</item>
            <item>software_id</item>
            <item>version</item>
            <item>description</item>
            <item>contact_list</item>
            <item>document_list</item>
            <item>solution_list</item>
            <item>contract_list</item>
            <item>ticket_list</item>
          </items>
        </details>
        <search>
          <items>
            <item>status</item>
            <item>org_id</item>
            <item>importance</item>
            <item>device_id</item>
            <item>licence_id</item>
            <item>software_id</item>
            <item>version</item>
          </items>
        </search>
        <list>
          <items>
            <item>status</item>
            <item>org_id</item>
            <item>importance</item>
            <item>device_id</item>
            <item>software_id</item>
            <item>version</item>
          </items>
        </list>
      </presentation>
    </class>
    <class name="DatabaseInstance" category="bizmodel,searchable,configmgmt" parent="FunctionalCI" abstract="false" key_type="autoincrement" db_table="databaseinstance" db_key_field="id" db_final_class_field="">
      <properties>
        <naming format="%1$s - %2$s">
          <attributes>
            <attribute name="name"/>
            <attribute name="db_server_instance_id_friendlyname"/>
          </attributes>
        </naming>
        <display_template></display_template>
        <icon>images/database-instance.png</icon>
        <reconciliation>
          <attributes>
            <attribute name="name"/>
            <attribute name="org_id"/>
            <attribute name="owner_name"/>
            <attribute name="db_server_instance_id"/>
            <attribute name="db_server_instance_name"/>
          </attributes>
        </reconciliation>
      </properties>
      <fields>
        <field name="db_server_instance_id" xsi:type="AttributeExternalKey" target_class="DBServerInstance" jointype="" filter="SELECT DBServerInstance WHERE org_id = :this-&gt;org_id" sql="db_server_instance_id" is_null_allowed="false" on_target_delete="DEL_MANUAL">
          <dependencies>
            <attribute name="org_id"/>
          </dependencies>
        </field>
        <field name="db_server_instance_name" xsi:type="AttributeExternalField" extkey_attcode="db_server_instance_id" target_attcode="name"/>
        <field name="db_server_instance_version" xsi:type="AttributeExternalField" extkey_attcode="db_server_instance_id" target_attcode="version"/>
        <field name="description" xsi:type="AttributeText" sql="description" default_value="" is_null_allowed="true"/>
      </fields>
      <methods>
        <method name="GetRelationQueries" static="true" access="public" type="Overload-DBObject"><![CDATA[	public static function GetRelationQueries($sRelCode)
	{
		switch ($sRelCode)
		{
			case "depends on":
			$aRels = array(
				"db_instances" => array("sQuery"=>"SELECT DBServerInstance AS db_server_inst JOIN DatabaseInstance AS db ON  db.db_server_instance_id = db_server_inst.id WHERE db.id = :this->id", "bPropagate"=>true, "iDistance"=>5),
			);
			return array_merge($aRels, parent::GetRelationQueries($sRelCode));
			break;
						
			default:
			return parent::GetRelationQueries($sRelCode);			
		}
	}]]></method>
      </methods>
      <presentation>
        <details>
          <items>
            <item>name</item>
            <item>status</item>
            <item>org_id</item>
            <item>importance</item>
            <item>db_server_instance_id</item>
            <item>db_server_instance_version</item>
            <item>description</item>
            <item>contact_list</item>
            <item>document_list</item>
            <item>solution_list</item>
            <item>contract_list</item>
            <item>ticket_list</item>
          </items>
        </details>
        <search>
          <items>
            <item>name</item>
            <item>status</item>
            <item>org_id</item>
            <item>importance</item>
            <item>db_server_instance_id</item>
            <item>db_server_instance_version</item>
          </items>
        </search>
        <list>
          <items>
            <item>status</item>
            <item>org_id</item>
            <item>importance</item>
            <item>db_server_instance_id</item>
            <item>db_server_instance_version</item>
          </items>
        </list>
      </presentation>
    </class>
    <class name="ApplicationSolution" category="bizmodel,searchable,configmgmt" parent="FunctionalCI" abstract="false" key_type="autoincrement" db_table="applicationsolution" db_key_field="id" db_final_class_field="">
      <properties>
        <naming format="%1$s">
          <attributes>
            <attribute name="name"/>
          </attributes>
        </naming>
        <display_template></display_template>
        <icon>images/solution.png</icon>
        <reconciliation>
          <attributes>
            <attribute name="name"/>
            <attribute name="org_id"/>
            <attribute name="owner_name"/>
          </attributes>
        </reconciliation>
      </properties>
      <fields>
        <field name="description" xsi:type="AttributeText" sql="description" default_value="" is_null_allowed="true"/>
        <field name="ci_list" xsi:type="AttributeLinkedSetIndirect" linked_class="lnkSolutionToCI" ext_key_to_me="solution_id" ext_key_to_remote="ci_id" count_min="0" count_max="0"/>
        <field name="process_list" xsi:type="AttributeLinkedSetIndirect" linked_class="lnkProcessToSolution" ext_key_to_me="solution_id" ext_key_to_remote="process_id" count_min="0" count_max="0"/>
      </fields>
      <methods>
        <method name="GetRelationQueries" static="true" access="public" type="Overload-DBObject"><![CDATA[	public static function GetRelationQueries($sRelCode)
	{
		switch ($sRelCode)
		{
			case "impacts":
			$aRels = array(
				"process" => array("sQuery"=>"SELECT BusinessProcess AS p JOIN lnkProcessToSolution AS l1 ON l1.process_id = p.id WHERE l1.solution_id = :this->id", "bPropagate"=>true, "iDistance"=>3),
			);
			return array_merge($aRels, parent::GetRelationQueries($sRelCode));
			break;
			
			case "depends on":
			$aRels = array(
				"solution" => array("sQuery"=>"SELECT FunctionalCI AS ci JOIN lnkSolutionToCI AS l1 ON l1.ci_id = ci.id WHERE l1.solution_id = :this->id", "bPropagate"=>true, "iDistance"=>2),
			);
			return array_merge($aRels, parent::GetRelationQueries($sRelCode));
			break;
						
			default:
			return parent::GetRelationQueries($sRelCode);			
		}
	}]]></method>
      </methods>
      <presentation>
        <details>
          <items>
            <item>name</item>
            <item>status</item>
            <item>org_id</item>
            <item>importance</item>
            <item>description</item>
            <item>contact_list</item>
            <item>document_list</item>
            <item>solution_list</item>
            <item>contract_list</item>
            <item>ticket_list</item>
            <item>ci_list</item>
            <item>process_list</item>
          </items>
        </details>
        <search>
          <items>
            <item>name</item>
            <item>status</item>
            <item>org_id</item>
            <item>importance</item>
          </items>
        </search>
        <list>
          <items>
            <item>status</item>
            <item>org_id</item>
            <item>importance</item>
          </items>
        </list>
      </presentation>
    </class>
    <class name="BusinessProcess" category="bizmodel,searchable,configmgmt" parent="FunctionalCI" abstract="false" key_type="autoincrement" db_table="businessprocess" db_key_field="id" db_final_class_field="">
      <properties>
        <naming format="%1$s">
          <attributes>
            <attribute name="name"/>
          </attributes>
        </naming>
        <display_template></display_template>
        <icon>images/business-process.png</icon>
        <reconciliation>
          <attributes>
            <attribute name="name"/>
            <attribute name="org_id"/>
            <attribute name="owner_name"/>
          </attributes>
        </reconciliation>
      </properties>
      <fields>
        <field name="description" xsi:type="AttributeText" sql="description" default_value="" is_null_allowed="true"/>
        <field name="used_solution_list" xsi:type="AttributeLinkedSetIndirect" linked_class="lnkProcessToSolution" ext_key_to_me="process_id" ext_key_to_remote="solution_id" count_min="0" count_max="0"/>
      </fields>
      <methods>
        <method name="GetRelationQueries" static="true" access="public" type="Overload-DBObject"><![CDATA[	public static function GetRelationQueries($sRelCode)
	{
		switch ($sRelCode)
		{
			case "depends on":
			$aRels = array(
				"solution" => array("sQuery"=>"SELECT ApplicationSolution AS app JOIN lnkProcessToSolution AS l1 ON l1.solution_id = app.id WHERE l1.process_id = :this->id", "bPropagate"=>true, "iDistance"=>3),
			);
			return array_merge($aRels, parent::GetRelationQueries($sRelCode));
			break;
			
			default:
			return parent::GetRelationQueries($sRelCode);			
		}
	}]]></method>
      </methods>
      <presentation>
        <details>
          <items>
            <item>name</item>
            <item>status</item>
            <item>org_id</item>
            <item>importance</item>
            <item>description</item>
            <item>contact_list</item>
            <item>document_list</item>
            <item>contract_list</item>
            <item>ticket_list</item>
            <item>used_solution_list</item>
          </items>
        </details>
        <search>
          <items>
            <item>name</item>
            <item>status</item>
            <item>org_id</item>
            <item>importance</item>
            <item>description</item>
          </items>
        </search>
        <list>
          <items>
            <item>status</item>
            <item>org_id</item>
            <item>importance</item>
          </items>
        </list>
      </presentation>
    </class>
    <class name="ConnectableCI" category="bizmodel,searchable,configmgmt" parent="FunctionalCI" abstract="true" key_type="autoincrement" db_table="connectableci" db_key_field="id" db_final_class_field="">
      <properties>
        <naming format="%1$s">
          <attributes>
            <attribute name="name"/>
          </attributes>
        </naming>
        <display_template></display_template>
        <icon>images/server.png</icon>
        <reconciliation>
          <attributes>
            <attribute name="name"/>
            <attribute name="org_id"/>
            <attribute name="owner_name"/>
          </attributes>
        </reconciliation>
      </properties>
      <fields>
        <field name="brand" xsi:type="AttributeString" sql="brand" default_value="" is_null_allowed="true"/>
        <field name="model" xsi:type="AttributeString" sql="model" default_value="" is_null_allowed="true"/>
        <field name="serial_number" xsi:type="AttributeString" sql="serial_number" default_value="" is_null_allowed="true"/>
        <field name="asset_ref" xsi:type="AttributeString" sql="asset_ref" default_value="" is_null_allowed="true"/>
      </fields>
      <methods/>
      <presentation>
        <details>
          <items>
            <item>name</item>
            <item>status</item>
            <item>org_id</item>
            <item>importance</item>
            <item>brand</item>
            <item>model</item>
            <item>serial_number</item>
            <item>asset_ref</item>
            <item>contact_list</item>
            <item>document_list</item>
            <item>solution_list</item>
            <item>contract_list</item>
            <item>ticket_list</item>
          </items>
        </details>
        <search>
          <items>
            <item>name</item>
            <item>status</item>
            <item>org_id</item>
            <item>importance</item>
            <item>brand</item>
            <item>model</item>
            <item>serial_number</item>
            <item>asset_ref</item>
          </items>
        </search>
        <list>
          <items>
            <item>finalclass</item>
            <item>status</item>
            <item>org_id</item>
            <item>importance</item>
            <item>brand</item>
            <item>model</item>
            <item>serial_number</item>
            <item>asset_ref</item>
          </items>
        </list>
      </presentation>
    </class>
    <class name="NetworkInterface" category="bizmodel,searchable,configmgmt" parent="ConnectableCI" abstract="false" key_type="autoincrement" db_table="networkinterface" db_key_field="id" db_final_class_field="">
      <properties>
        <naming format="%1$s - %2$s">
          <attributes>
            <attribute name="device_id_friendlyname"/>
            <attribute name="name"/>
          </attributes>
        </naming>
        <display_template></display_template>
        <icon>images/interface.png</icon>
        <reconciliation>
          <attributes>
            <attribute name="name"/>
            <attribute name="device_id"/>
            <attribute name="device_name"/>
            <attribute name="org_id"/>
          </attributes>
        </reconciliation>
      </properties>
      <fields>
        <field name="device_id" xsi:type="AttributeExternalKey" target_class="Device" jointype="" filter="SELECT Device WHERE org_id = :this-&gt;org_id" sql="device_id" is_null_allowed="false" on_target_delete="DEL_AUTO">
          <dependencies>
            <attribute name="org_id"/>
          </dependencies>
        </field>
        <field name="device_name" xsi:type="AttributeExternalField" extkey_attcode="device_id" target_attcode="name"/>
        <field name="logical_type" xsi:type="AttributeEnum" sql="logical_type" default_value="primary" is_null_allowed="false">
          <values>
            <value>backup</value>
            <value>logical</value>
            <value>port</value>
            <value>primary</value>
            <value>secondary</value>
          </values>
        </field>
        <field name="physical_type" xsi:type="AttributeEnum" sql="physical_type" default_value="ethernet" is_null_allowed="false">
          <values>
            <value>atm</value>
            <value>ethernet</value>
            <value>framerelay</value>
            <value>vlan</value>
          </values>
        </field>
        <field name="ip_address" xsi:type="AttributeIPAddress" sql="ip_address" default_value="" is_null_allowed="true"/>
        <field name="ip_mask" xsi:type="AttributeIPAddress" sql="ip_mask" default_value="" is_null_allowed="true"/>
        <field name="mac_address" xsi:type="AttributeString" sql="mac_address" default_value="" is_null_allowed="true"/>
        <field name="speed" xsi:type="AttributeInteger" sql="speed" default_value="" is_null_allowed="true"/>
        <field name="duplex" xsi:type="AttributeEnum" sql="duplex" default_value="full" is_null_allowed="true">
          <values>
            <value>full</value>
            <value>half</value>
            <value>auto</value>
            <value>unknown</value>
          </values>
        </field>
        <field name="connected_if" xsi:type="AttributeExternalKey" target_class="NetworkInterface" jointype="" filter="SELECT NetworkInterface WHERE org_id = :this-&gt;org_id" sql="connected_if" is_null_allowed="true" on_target_delete="DEL_AUTO">
          <dependencies>
            <attribute name="org_id"/>
          </dependencies>
        </field>
        <field name="connected_name" xsi:type="AttributeExternalField" extkey_attcode="connected_if" target_attcode="name"/>
        <field name="connected_if_device_id" xsi:type="AttributeExternalField" extkey_attcode="connected_if" target_attcode="device_id"/>
        <field name="connected_if_device_id_name" xsi:type="AttributeExternalField" extkey_attcode="connected_if" target_attcode="device_name"/>
        <field name="link_type" xsi:type="AttributeEnum" sql="link_type" default_value="uplink" is_null_allowed="false">
          <values>
            <value>uplink</value>
            <value>downlink</value>
          </values>
        </field>
        <field name="connected_if_device_id_friendlyname" xsi:type="AttributeExternalField" extkey_attcode="connected_if" target_attcode="device_id_friendlyname" is_null_allowed="true"/>
      </fields>
      <methods>
        <method name="GetRelationQueries" static="true" access="public" type="Overload-DBObject"><![CDATA[	public static function GetRelationQueries($sRelCode)
	{
		switch ($sRelCode)
		{
			case "impacts":
			$aRels = array(
				"connected_devices" => array("sQuery"=>"SELECT Device AS dev JOIN NetworkInterface AS if1 ON if1.device_id = dev.id JOIN NetworkInterface AS if2 ON if2.connected_if = if1.id WHERE if2.id = :this->id AND if2.link_type='downlink'", "bPropagate"=>true, "iDistance"=>5),
			);
			return array_merge($aRels, parent::GetRelationQueries($sRelCode));
			break;
			
			default:
			return parent::GetRelationQueries($sRelCode);			
		}
	}]]></method>
        <method name="UpdateConnectedInterface" static="false" access="protected" type="Overload-DBObject"><![CDATA[	protected function UpdateConnectedInterface()
	{
		$iPrevTargetIf = $this->m_aOrigValues['connected_if']; // The interface this interface was connected to
 			
		if ($iPrevTargetIf != 0)
		{
			// The interface was previosuly connected to another interface. Make sure that we reset this 'previously connected interface'
			$oPrevConnectedIf = MetaModel::GetObject('NetworkInterface', $iPrevTargetIf, false);
			if (!is_null($oPrevConnectedIf))
			{
				$oPrevConnectedIf->Set('connected_if', 0);			
				// Need to backup the current change, because it is reset when DBUpdateTracked is complete
				$oCurrChange = self::$m_oCurrChange;
				$oPrevConnectedIf->DBUpdateTracked($oCurrChange);
				self::$m_oCurrChange = $oCurrChange;
			}
		}

		$oConnIf = MetaModel::GetObject('NetworkInterface', $this->Get('connected_if'), false /* no exception if not found */);
		if (!is_null($oConnIf))
		{
			$sLink = $this->Get('link_type');
			$sConnLink = ($sLink == 'uplink') ? 'downlink' : 'uplink';
  
 			if (($oConnIf->Get('connected_if') != $this->GetKey()) || ($sConnLink != $oConnIf->Get('link_type')))
			{
				// Something has to be changed on the connected interface...
				if ($oConnIf->Get('connected_if') != $this->GetKey())
				{
					// It is connected to another interface: reset that third one...
					$oThirdIf = MetaModel::GetObject('NetworkInterface', $oConnIf->Get('connected_if'), false);
					if (!is_null($oThirdIf))
					{
						$oThirdIf->Set('connected_if', 0);			
						// Need to backup the current change, because it is reset when DBUpdateTracked is complete
						$oCurrChange = self::$m_oCurrChange;
						$oThirdIf->DBUpdateTracked($oCurrChange);
						self::$m_oCurrChange = $oCurrChange;
					}
				}
				// Connect the remote interface to the current one
				$oConnIf->Set('connected_if', $this->GetKey());
				$oConnIf->Set('link_type', $sConnLink);

				// Need to backup the current change, because it is reset when DBUpdateTracked is complete
				$oCurrChange = self::$m_oCurrChange;
				$oConnIf->DBUpdateTracked($oCurrChange);
				self::$m_oCurrChange = $oCurrChange;
			}
		}
	}]]></method>
        <method name="AfterInsert" static="false" access="protected" type="Overload-DBObject"><![CDATA[	protected function AfterInsert()
	{
		$this->UpdateConnectedInterface();
		parent::AfterInsert();
	}]]></method>
        <method name="AfterUpdate" static="false" access="protected" type="Overload-DBObject"><![CDATA[	protected function AfterUpdate()
	{
		$this->UpdateConnectedInterface();
		parent::AfterUpdate();
	}]]></method>
      </methods>
      <presentation>
        <details>
          <items>
            <item>name</item>
            <item>status</item>
            <item>org_id</item>
            <item>importance</item>
            <item>brand</item>
            <item>model</item>
            <item>serial_number</item>
            <item>asset_ref</item>
            <item>device_id</item>
            <item>logical_type</item>
            <item>physical_type</item>
            <item>ip_address</item>
            <item>ip_mask</item>
            <item>mac_address</item>
            <item>speed</item>
            <item>duplex</item>
            <item>link_type</item>
            <item>connected_if</item>
            <item>connected_if_device_id</item>
            <item>contact_list</item>
            <item>document_list</item>
            <item>solution_list</item>
            <item>contract_list</item>
            <item>ticket_list</item>
          </items>
        </details>
        <search>
          <items>
            <item>name</item>
            <item>status</item>
            <item>org_id</item>
            <item>importance</item>
            <item>device_id</item>
            <item>logical_type</item>
            <item>physical_type</item>
            <item>ip_address</item>
            <item>ip_mask</item>
            <item>mac_address</item>
            <item>connected_if_device_id</item>
          </items>
        </search>
        <list>
          <items>
            <item>status</item>
            <item>ip_address</item>
            <item>importance</item>
            <item>device_id</item>
            <item>logical_type</item>
            <item>physical_type</item>
            <item>link_type</item>
            <item>connected_if_device_id</item>
          </items>
        </list>
      </presentation>
    </class>
    <class name="Device" category="bizmodel,searchable,configmgmt" parent="ConnectableCI" abstract="true" key_type="autoincrement" db_table="device" db_key_field="id" db_final_class_field="">
      <properties>
        <naming format="%1$s">
          <attributes>
            <attribute name="name"/>
          </attributes>
        </naming>
        <display_template></display_template>
        <icon>images/server.png</icon>
        <reconciliation>
          <attributes>
            <attribute name="name"/>
            <attribute name="org_id"/>
            <attribute name="owner_name"/>
          </attributes>
        </reconciliation>
      </properties>
      <fields>
        <field name="nwinterface_list" xsi:type="AttributeLinkedSet" linked_class="NetworkInterface" ext_key_to_me="device_id" count_min="0" count_max="0"/>
      </fields>
      <methods>
        <method name="GetRelationQueries" static="true" access="public" type="Overload-DBObject"><![CDATA[	public static function GetRelationQueries($sRelCode)
	{
		switch ($sRelCode)
		{
			case "impacts":
			$aRels = array(
				"applications" => array("sQuery"=>"SELECT SoftwareInstance AS app WHERE app.device_id = :this->id", "bPropagate"=>true, "iDistance"=>5),
				"connected_devices" => array("sQuery"=>"SELECT Device AS dev JOIN NetworkInterface AS if1 ON if1.device_id = dev.id JOIN NetworkInterface AS if2 ON if2.connected_if = if1.id WHERE if2.device_id = :this->id AND if2.link_type='downlink'", "bPropagate"=>true, "iDistance"=>5),
			);
			return array_merge($aRels, parent::GetRelationQueries($sRelCode));
			break;
			
			case "depends on":
			$aRels = array(
				"connected_devices" => array("sQuery"=>"SELECT Device AS dev JOIN NetworkInterface AS if1 ON if1.device_id = dev.id JOIN NetworkInterface AS if2 ON if2.connected_if = if1.id WHERE if2.device_id = :this->id AND if2.link_type='uplink'", "bPropagate"=>true, "iDistance"=>5),
			);
			return array_merge($aRels, parent::GetRelationQueries($sRelCode));
			break;

			default:
			return parent::GetRelationQueries($sRelCode);			
		}
	}]]></method>
      </methods>
      <presentation>
        <details>
          <items>
            <item>name</item>
            <item>status</item>
            <item>org_id</item>
            <item>importance</item>
            <item>brand</item>
            <item>model</item>
            <item>serial_number</item>
            <item>asset_ref</item>
            <item>contact_list</item>
            <item>document_list</item>
            <item>solution_list</item>
            <item>contract_list</item>
            <item>ticket_list</item>
            <item>nwinterface_list</item>
          </items>
        </details>
        <search>
          <items>
            <item>name</item>
            <item>status</item>
            <item>org_id</item>
            <item>importance</item>
            <item>brand</item>
            <item>model</item>
            <item>serial_number</item>
            <item>asset_ref</item>
          </items>
        </search>
        <list>
          <items>
            <item>finalclass</item>
            <item>status</item>
            <item>org_id</item>
            <item>importance</item>
            <item>brand</item>
            <item>model</item>
            <item>serial_number</item>
            <item>asset_ref</item>
          </items>
        </list>
      </presentation>
    </class>
    <class name="PC" category="bizmodel,searchable,configmgmt" parent="Device" abstract="false" key_type="autoincrement" db_table="pc" db_key_field="id" db_final_class_field="">
      <properties>
        <naming format="%1$s">
          <attributes>
            <attribute name="name"/>
          </attributes>
        </naming>
        <display_template></display_template>
        <icon>images/laptop.png</icon>
        <reconciliation>
          <attributes>
            <attribute name="name"/>
            <attribute name="org_id"/>
            <attribute name="owner_name"/>
          </attributes>
        </reconciliation>
      </properties>
      <fields>
        <field name="cpu" xsi:type="AttributeString" sql="cpu" default_value="" is_null_allowed="true"/>
        <field name="ram" xsi:type="AttributeString" sql="ram" default_value="" is_null_allowed="true"/>
        <field name="hdd" xsi:type="AttributeString" sql="hdd" default_value="" is_null_allowed="true"/>
        <field name="os_family" xsi:type="AttributeString" sql="os_family" default_value="" is_null_allowed="true"/>
        <field name="os_version" xsi:type="AttributeString" sql="os_version" default_value="" is_null_allowed="true"/>
        <field name="application_list" xsi:type="AttributeLinkedSet" linked_class="SoftwareInstance" ext_key_to_me="device_id" count_min="0" count_max="0"/>
        <field name="patch_list" xsi:type="AttributeLinkedSetIndirect" linked_class="lnkPatchToCI" ext_key_to_me="ci_id" ext_key_to_remote="patch_id" count_min="0" count_max="0"/>
      </fields>
      <methods/>
      <presentation>
        <details>
          <items>
            <item>name</item>
            <item>status</item>
            <item>org_id</item>
            <item>importance</item>
            <item>brand</item>
            <item>model</item>
            <item>serial_number</item>
            <item>asset_ref</item>
            <item>cpu</item>
            <item>ram</item>
            <item>hdd</item>
            <item>os_family</item>
            <item>os_version</item>
            <item>contact_list</item>
            <item>document_list</item>
            <item>solution_list</item>
            <item>contract_list</item>
            <item>ticket_list</item>
            <item>nwinterface_list</item>
            <item>application_list</item>
            <item>patch_list</item>
          </items>
        </details>
        <search>
          <items>
            <item>name</item>
            <item>status</item>
            <item>org_id</item>
            <item>importance</item>
            <item>brand</item>
            <item>model</item>
            <item>serial_number</item>
            <item>asset_ref</item>
            <item>os_family</item>
            <item>os_version</item>
          </items>
        </search>
        <list>
          <items>
            <item>status</item>
            <item>org_id</item>
            <item>importance</item>
            <item>brand</item>
            <item>model</item>
            <item>os_family</item>
          </items>
        </list>
      </presentation>
    </class>
    <class name="MobileCI" category="bizmodel,searchable,configmgmt" parent="Device" abstract="true" key_type="autoincrement" db_table="mobileci" db_key_field="id" db_final_class_field="">
      <properties>
        <naming format="%1$s">
          <attributes>
            <attribute name="name"/>
          </attributes>
        </naming>
        <display_template></display_template>
        <icon>images/mobile-phone.png</icon>
        <reconciliation>
          <attributes>
            <attribute name="name"/>
            <attribute name="org_id"/>
            <attribute name="owner_name"/>
          </attributes>
        </reconciliation>
      </properties>
      <fields/>
      <methods/>
      <presentation>
        <details>
          <items>
            <item>name</item>
            <item>status</item>
            <item>org_id</item>
            <item>importance</item>
            <item>brand</item>
            <item>model</item>
            <item>serial_number</item>
            <item>asset_ref</item>
            <item>contact_list</item>
            <item>document_list</item>
            <item>solution_list</item>
            <item>contract_list</item>
            <item>ticket_list</item>
            <item>nwinterface_list</item>
          </items>
        </details>
        <search>
          <items>
            <item>name</item>
            <item>status</item>
            <item>org_id</item>
            <item>importance</item>
            <item>brand</item>
            <item>model</item>
            <item>serial_number</item>
            <item>asset_ref</item>
          </items>
        </search>
        <list>
          <items>
            <item>status</item>
            <item>org_id</item>
            <item>importance</item>
            <item>brand</item>
            <item>model</item>
          </items>
        </list>
      </presentation>
    </class>
    <class name="MobilePhone" category="bizmodel,searchable,configmgmt" parent="MobileCI" abstract="false" key_type="autoincrement" db_table="mobilephone" db_key_field="id" db_final_class_field="">
      <properties>
        <naming format="%1$s">
          <attributes>
            <attribute name="name"/>
          </attributes>
        </naming>
        <display_template></display_template>
        <icon>images/mobile-phone.png</icon>
        <reconciliation>
          <attributes>
            <attribute name="name"/>
            <attribute name="org_id"/>
            <attribute name="owner_name"/>
          </attributes>
        </reconciliation>
      </properties>
      <fields>
        <field name="number" xsi:type="AttributeString" sql="number" default_value="" is_null_allowed="true"/>
        <field name="imei" xsi:type="AttributeString" sql="IMIE" default_value="" is_null_allowed="true"/>
        <field name="hw_pin" xsi:type="AttributeString" sql="hw_pin" default_value="" is_null_allowed="true"/>
      </fields>
      <methods/>
      <presentation>
        <details>
          <items>
            <item>name</item>
            <item>status</item>
            <item>org_id</item>
            <item>importance</item>
            <item>brand</item>
            <item>model</item>
            <item>serial_number</item>
            <item>asset_ref</item>
            <item>number</item>
            <item>imei</item>
            <item>hw_pin</item>
            <item>contact_list</item>
            <item>document_list</item>
            <item>solution_list</item>
            <item>contract_list</item>
            <item>ticket_list</item>
            <item>nwinterface_list</item>
          </items>
        </details>
        <search>
          <items>
            <item>name</item>
            <item>status</item>
            <item>org_id</item>
            <item>importance</item>
            <item>brand</item>
            <item>model</item>
            <item>serial_number</item>
            <item>asset_ref</item>
            <item>number</item>
            <item>imei</item>
          </items>
        </search>
        <list>
          <items>
            <item>status</item>
            <item>org_id</item>
            <item>importance</item>
            <item>brand</item>
            <item>model</item>
          </items>
        </list>
      </presentation>
    </class>
    <class name="InfrastructureCI" category="bizmodel,searchable,configmgmt" parent="Device" abstract="true" key_type="autoincrement" db_table="infrastructureci" db_key_field="id" db_final_class_field="">
      <properties>
        <naming format="%1$s">
          <attributes>
            <attribute name="name"/>
          </attributes>
        </naming>
        <display_template></display_template>
        <icon>images/server.png</icon>
        <reconciliation>
          <attributes>
            <attribute name="name"/>
            <attribute name="org_id"/>
            <attribute name="owner_name"/>
            <attribute name="location_id"/>
            <attribute name="location_name"/>
          </attributes>
        </reconciliation>
      </properties>
      <fields>
        <field name="description" xsi:type="AttributeText" sql="description" default_value="" is_null_allowed="true"/>
        <field name="location_id" xsi:type="AttributeExternalKey" target_class="Location" jointype="" filter="SELECT Location AS l WHERE l.org_id = :this-&gt;org_id" sql="location_id" is_null_allowed="true" on_target_delete="DEL_MANUAL">
          <dependencies>
            <attribute name="org_id"/>
          </dependencies>
        </field>
        <field name="location_name" xsi:type="AttributeExternalField" extkey_attcode="location_id" target_attcode="name"/>
        <field name="location_details" xsi:type="AttributeText" sql="location_details" default_value="" is_null_allowed="true"/>
        <field name="management_ip" xsi:type="AttributeIPAddress" sql="management_ip" default_value="" is_null_allowed="true"/>
        <field name="default_gateway" xsi:type="AttributeString" sql="default_gateway" default_value="" is_null_allowed="true"/>
      </fields>
      <methods/>
      <presentation>
        <details>
          <items>
            <item>name</item>
            <item>status</item>
            <item>org_id</item>
            <item>importance</item>
            <item>brand</item>
            <item>model</item>
            <item>serial_number</item>
            <item>asset_ref</item>
            <item>description</item>
            <item>location_id</item>
            <item>location_details</item>
            <item>management_ip</item>
            <item>default_gateway</item>
            <item>contact_list</item>
            <item>document_list</item>
            <item>solution_list</item>
            <item>contract_list</item>
            <item>ticket_list</item>
            <item>nwinterface_list</item>
          </items>
        </details>
        <search>
          <items>
            <item>name</item>
            <item>status</item>
            <item>org_id</item>
            <item>importance</item>
            <item>brand</item>
            <item>model</item>
            <item>serial_number</item>
            <item>asset_ref</item>
            <item>location_id</item>
            <item>management_ip</item>
            <item>default_gateway</item>
          </items>
        </search>
        <list>
          <items>
            <item>status</item>
            <item>org_id</item>
            <item>importance</item>
            <item>brand</item>
            <item>model</item>
            <item>location_id</item>
          </items>
        </list>
      </presentation>
    </class>
    <class name="NetworkDevice" category="bizmodel,searchable,configmgmt" parent="InfrastructureCI" abstract="false" key_type="autoincrement" db_table="networkdevice" db_key_field="id" db_final_class_field="">
      <properties>
        <naming format="%1$s">
          <attributes>
            <attribute name="name"/>
          </attributes>
        </naming>
        <display_template></display_template>
        <icon>images/switch.png</icon>
        <reconciliation>
          <attributes>
            <attribute name="name"/>
            <attribute name="org_id"/>
            <attribute name="owner_name"/>
            <attribute name="location_id"/>
            <attribute name="location_name"/>
          </attributes>
        </reconciliation>
      </properties>
      <fields>
        <field name="type" xsi:type="AttributeEnum" sql="type" default_value="switch" is_null_allowed="true">
          <values>
            <value>wanaccelerator</value>
            <value>firewall</value>
            <value>hub</value>
            <value>loadbalancer</value>
            <value>router</value>
            <value>switch</value>
          </values>
        </field>
        <field name="ios_version" xsi:type="AttributeString" sql="ios_version" default_value="" is_null_allowed="true"/>
        <field name="ram" xsi:type="AttributeString" sql="ram" default_value="" is_null_allowed="true"/>
        <field name="snmp_read" xsi:type="AttributeString" sql="snmp_read" default_value="" is_null_allowed="true"/>
        <field name="snmp_write" xsi:type="AttributeString" sql="snmp_write" default_value="" is_null_allowed="true"/>
      </fields>
      <methods/>
      <presentation>
        <details>
          <items>
            <item>name</item>
            <item>status</item>
            <item>org_id</item>
            <item>importance</item>
            <item>brand</item>
            <item>model</item>
            <item>serial_number</item>
            <item>asset_ref</item>
            <item>description</item>
            <item>location_id</item>
            <item>location_details</item>
            <item>management_ip</item>
            <item>default_gateway</item>
            <item>type</item>
            <item>ios_version</item>
            <item>ram</item>
            <item>snmp_read</item>
            <item>snmp_write</item>
            <item>contact_list</item>
            <item>document_list</item>
            <item>solution_list</item>
            <item>contract_list</item>
            <item>ticket_list</item>
            <item>nwinterface_list</item>
          </items>
        </details>
        <search>
          <items>
            <item>name</item>
            <item>status</item>
            <item>org_id</item>
            <item>importance</item>
            <item>brand</item>
            <item>model</item>
            <item>serial_number</item>
            <item>asset_ref</item>
            <item>location_id</item>
            <item>management_ip</item>
            <item>default_gateway</item>
            <item>type</item>
            <item>ios_version</item>
          </items>
        </search>
        <list>
          <items>
            <item>status</item>
            <item>org_id</item>
            <item>importance</item>
            <item>brand</item>
            <item>model</item>
            <item>location_id</item>
            <item>type</item>
          </items>
        </list>
      </presentation>
    </class>
    <class name="Server" category="bizmodel,searchable,configmgmt" parent="InfrastructureCI" abstract="false" key_type="autoincrement" db_table="server" db_key_field="id" db_final_class_field="">
      <properties>
        <naming format="%1$s">
          <attributes>
            <attribute name="name"/>
          </attributes>
        </naming>
        <display_template></display_template>
        <icon>images/server.png</icon>
        <reconciliation>
          <attributes>
            <attribute name="name"/>
            <attribute name="org_id"/>
            <attribute name="owner_name"/>
            <attribute name="location_id"/>
            <attribute name="location_name"/>
          </attributes>
        </reconciliation>
      </properties>
      <fields>
        <field name="cpu" xsi:type="AttributeString" sql="cpu" default_value="" is_null_allowed="true"/>
        <field name="ram" xsi:type="AttributeString" sql="ram" default_value="" is_null_allowed="true"/>
        <field name="hdd" xsi:type="AttributeString" sql="hdd" default_value="" is_null_allowed="true"/>
        <field name="os_family" xsi:type="AttributeString" sql="os_family" default_value="" is_null_allowed="true"/>
        <field name="os_version" xsi:type="AttributeString" sql="os_version" default_value="" is_null_allowed="true"/>
        <field name="application_list" xsi:type="AttributeLinkedSet" linked_class="SoftwareInstance" ext_key_to_me="device_id" count_min="0" count_max="0"/>
        <field name="patch_list" xsi:type="AttributeLinkedSetIndirect" linked_class="lnkPatchToCI" ext_key_to_me="ci_id" ext_key_to_remote="patch_id" count_min="0" count_max="0"/>
      </fields>
      <methods/>
      <presentation>
        <details>
          <items>
            <item>name</item>
            <item>status</item>
            <item>org_id</item>
            <item>importance</item>
            <item>brand</item>
            <item>model</item>
            <item>serial_number</item>
            <item>asset_ref</item>
            <item>description</item>
            <item>location_id</item>
            <item>location_details</item>
            <item>management_ip</item>
            <item>default_gateway</item>
            <item>cpu</item>
            <item>ram</item>
            <item>hdd</item>
            <item>os_family</item>
            <item>os_version</item>
            <item>contact_list</item>
            <item>document_list</item>
            <item>solution_list</item>
            <item>contract_list</item>
            <item>ticket_list</item>
            <item>nwinterface_list</item>
            <item>application_list</item>
            <item>patch_list</item>
          </items>
        </details>
        <search>
          <items>
            <item>name</item>
            <item>status</item>
            <item>org_id</item>
            <item>importance</item>
            <item>brand</item>
            <item>model</item>
            <item>serial_number</item>
            <item>asset_ref</item>
            <item>location_id</item>
            <item>management_ip</item>
            <item>default_gateway</item>
            <item>os_family</item>
            <item>os_version</item>
          </items>
        </search>
        <list>
          <items>
            <item>status</item>
            <item>org_id</item>
            <item>importance</item>
            <item>brand</item>
            <item>model</item>
            <item>location_id</item>
            <item>os_family</item>
          </items>
        </list>
      </presentation>
    </class>
    <class name="Printer" category="bizmodel,searchable,configmgmt" parent="InfrastructureCI" abstract="false" key_type="autoincrement" db_table="printer" db_key_field="id" db_final_class_field="">
      <properties>
        <naming format="%1$s">
          <attributes>
            <attribute name="name"/>
          </attributes>
        </naming>
        <display_template></display_template>
        <icon>images/printer.png</icon>
        <reconciliation>
          <attributes>
            <attribute name="name"/>
            <attribute name="org_id"/>
            <attribute name="owner_name"/>
            <attribute name="location_id"/>
            <attribute name="location_name"/>
          </attributes>
        </reconciliation>
      </properties>
      <fields>
        <field name="type" xsi:type="AttributeEnum" sql="type" default_value="printer" is_null_allowed="true">
          <values>
            <value>mopier</value>
            <value>printer</value>
          </values>
        </field>
        <field name="technology" xsi:type="AttributeEnum" sql="technology" default_value="laser" is_null_allowed="true">
          <values>
            <value>laser</value>
            <value>inkjet</value>
            <value>tracer</value>
          </values>
        </field>
      </fields>
      <methods/>
      <presentation>
        <details>
          <items>
            <item>name</item>
            <item>status</item>
            <item>org_id</item>
            <item>importance</item>
            <item>brand</item>
            <item>model</item>
            <item>serial_number</item>
            <item>asset_ref</item>
            <item>description</item>
            <item>location_id</item>
            <item>location_details</item>
            <item>management_ip</item>
            <item>default_gateway</item>
            <item>type</item>
            <item>technology</item>
            <item>contact_list</item>
            <item>document_list</item>
            <item>solution_list</item>
            <item>contract_list</item>
            <item>ticket_list</item>
            <item>nwinterface_list</item>
          </items>
        </details>
        <search>
          <items>
            <item>name</item>
            <item>status</item>
            <item>org_id</item>
            <item>importance</item>
            <item>brand</item>
            <item>model</item>
            <item>serial_number</item>
            <item>asset_ref</item>
            <item>description</item>
            <item>location_id</item>
            <item>location_details</item>
            <item>management_ip</item>
            <item>default_gateway</item>
            <item>type</item>
            <item>technology</item>
          </items>
        </search>
        <list>
          <items>
            <item>status</item>
            <item>org_id</item>
            <item>importance</item>
            <item>brand</item>
            <item>model</item>
            <item>serial_number</item>
            <item>asset_ref</item>
            <item>location_id</item>
            <item>management_ip</item>
            <item>default_gateway</item>
            <item>type</item>
            <item>technology</item>
          </items>
        </list>
      </presentation>
    </class>
    <class name="Group" category="bizmodel,searchable,configmgmt" parent="cmdbAbstractObject" abstract="false" key_type="autoincrement" db_table="group" db_key_field="id" db_final_class_field="">
      <properties>
        <naming format="%1$s">
          <attributes>
            <attribute name="name"/>
          </attributes>
        </naming>
        <display_template></display_template>
        <icon>images/group.png</icon>
        <reconciliation>
          <attributes>
            <attribute name="name"/>
            <attribute name="org_id"/>
            <attribute name="owner_name"/>
          </attributes>
        </reconciliation>
      </properties>
      <fields>
        <field name="name" xsi:type="AttributeString" sql="name" default_value="" is_null_allowed="false"/>
        <field name="status" xsi:type="AttributeEnum" sql="status" default_value="implementation" is_null_allowed="false">
          <values>
            <value>production</value>
            <value>implementation</value>
            <value>obsolete</value>
          </values>
        </field>
        <field name="org_id" xsi:type="AttributeExternalKey" target_class="Organization" jointype="" sql="org_id" is_null_allowed="false" on_target_delete="DEL_MANUAL"/>
        <field name="owner_name" xsi:type="AttributeExternalField" extkey_attcode="org_id" target_attcode="name"/>
        <field name="description" xsi:type="AttributeText" sql="description" default_value="" is_null_allowed="true"/>
        <field name="type" xsi:type="AttributeString" sql="type" default_value="" is_null_allowed="true"/>
        <field name="parent_id" xsi:type="AttributeHierarchicalKey" sql="parent_id" is_null_allowed="true" on_target_delete="DEL_MANUAL">
          <dependencies>
            <attribute name="org_id"/>
          </dependencies>
        </field>
        <field name="parent_name" xsi:type="AttributeExternalField" extkey_attcode="parent_id" target_attcode="name"/>
        <field name="ci_list" xsi:type="AttributeLinkedSetIndirect" linked_class="lnkGroupToCI" ext_key_to_me="group_id" ext_key_to_remote="ci_id" count_min="0" count_max="0"/>
      </fields>
      <methods/>
      <presentation>
        <details>
          <items>
            <item>name</item>
            <item>status</item>
            <item>org_id</item>
            <item>type</item>
            <item>description</item>
            <item>parent_id</item>
            <item>ci_list</item>
          </items>
        </details>
        <search>
          <items>
            <item>name</item>
            <item>status</item>
            <item>org_id</item>
            <item>type</item>
          </items>
        </search>
        <list>
          <items>
            <item>status</item>
            <item>org_id</item>
            <item>type</item>
            <item>parent_id</item>
          </items>
        </list>
      </presentation>
    </class>
    <class name="lnkGroupToCI" category="bizmodel,configmgmt" parent="cmdbAbstractObject" abstract="false" key_type="autoincrement" is_link="1" db_table="lnkgrouptoci" db_key_field="id" db_final_class_field="">
      <properties>
        <naming format="%1$s">
          <attributes>
            <attribute name="group_id"/>
          </attributes>
        </naming>
        <display_template></display_template>
        <icon></icon>
        <reconciliation>
          <attributes>
            <attribute name="group_id"/>
            <attribute name="ci_id"/>
          </attributes>
        </reconciliation>
      </properties>
      <fields>
        <field name="group_id" xsi:type="AttributeExternalKey" target_class="Group" jointype="" sql="group_id" is_null_allowed="false" on_target_delete="DEL_MANUAL"/>
        <field name="group_name" xsi:type="AttributeExternalField" extkey_attcode="group_id" target_attcode="name"/>
        <field name="ci_id" xsi:type="AttributeExternalKey" target_class="FunctionalCI" jointype="" sql="ci_id" is_null_allowed="false" on_target_delete="DEL_MANUAL"/>
        <field name="ci_name" xsi:type="AttributeExternalField" extkey_attcode="ci_id" target_attcode="name"/>
        <field name="ci_status" xsi:type="AttributeExternalField" extkey_attcode="ci_id" target_attcode="status"/>
        <field name="reason" xsi:type="AttributeString" sql="reason" default_value="" is_null_allowed="true"/>
      </fields>
      <methods/>
      <presentation>
        <details>
          <items>
            <item>group_id</item>
            <item>ci_id</item>
            <item>ci_status</item>
            <item>reason</item>
          </items>
        </details>
        <search>
          <items>
            <item>group_id</item>
            <item>ci_id</item>
            <item>reason</item>
          </items>
        </search>
        <list>
          <items>
            <item>group_id</item>
            <item>ci_id</item>
            <item>ci_status</item>
            <item>reason</item>
          </items>
        </list>
      </presentation>
    </class>
    <class name="lnkCIToDoc" category="bizmodel,configmgmt" parent="cmdbAbstractObject" abstract="false" key_type="autoincrement" is_link="1" db_table="lnkcitodoc" db_key_field="id" db_final_class_field="">
      <properties>
        <naming format="%1$s">
          <attributes>
            <attribute name="ci_id"/>
          </attributes>
        </naming>
        <display_template></display_template>
        <icon></icon>
        <reconciliation>
          <attributes>
            <attribute name="ci_id"/>
            <attribute name="document_id"/>
          </attributes>
        </reconciliation>
      </properties>
      <fields>
        <field name="ci_id" xsi:type="AttributeExternalKey" target_class="FunctionalCI" jointype="" sql="ci_id" is_null_allowed="false" on_target_delete="DEL_AUTO"/>
        <field name="ci_name" xsi:type="AttributeExternalField" extkey_attcode="ci_id" target_attcode="name"/>
        <field name="ci_status" xsi:type="AttributeExternalField" extkey_attcode="ci_id" target_attcode="status"/>
        <field name="document_id" xsi:type="AttributeExternalKey" target_class="Document" jointype="" sql="document_id" is_null_allowed="false" on_target_delete="DEL_AUTO"/>
        <field name="document_name" xsi:type="AttributeExternalField" extkey_attcode="document_id" target_attcode="name"/>
        <field name="document_type" xsi:type="AttributeExternalField" extkey_attcode="document_id" target_attcode="type"/>
        <field name="document_status" xsi:type="AttributeExternalField" extkey_attcode="document_id" target_attcode="status"/>
      </fields>
      <methods/>
      <presentation>
        <details>
          <items>
            <item>ci_id</item>
            <item>ci_status</item>
            <item>document_id</item>
            <item>document_type</item>
            <item>document_status</item>
          </items>
        </details>
        <search>
          <items>
            <item>ci_id</item>
            <item>document_id</item>
          </items>
        </search>
        <list>
          <items>
            <item>ci_id</item>
            <item>ci_status</item>
            <item>document_id</item>
            <item>document_type</item>
            <item>document_status</item>
          </items>
        </list>
      </presentation>
    </class>
    <class name="lnkCIToContact" category="bizmodel,configmgmt" parent="cmdbAbstractObject" abstract="false" key_type="autoincrement" is_link="1" db_table="lnkcitocontact" db_key_field="id" db_final_class_field="">
      <properties>
        <naming format="%1$s">
          <attributes>
            <attribute name="ci_id"/>
          </attributes>
        </naming>
        <display_template></display_template>
        <icon>images/contact.png</icon>
        <reconciliation>
          <attributes>
            <attribute name="ci_id"/>
            <attribute name="contact_id"/>
          </attributes>
        </reconciliation>
      </properties>
      <fields>
        <field name="ci_id" xsi:type="AttributeExternalKey" target_class="FunctionalCI" jointype="" sql="ci_id" is_null_allowed="false" on_target_delete="DEL_AUTO"/>
        <field name="ci_name" xsi:type="AttributeExternalField" extkey_attcode="ci_id" target_attcode="name"/>
        <field name="ci_status" xsi:type="AttributeExternalField" extkey_attcode="ci_id" target_attcode="status"/>
        <field name="contact_id" xsi:type="AttributeExternalKey" target_class="Contact" jointype="" sql="contact_id" is_null_allowed="false" on_target_delete="DEL_AUTO"/>
        <field name="contact_name" xsi:type="AttributeExternalField" extkey_attcode="contact_id" target_attcode="name"/>
        <field name="contact_email" xsi:type="AttributeExternalField" extkey_attcode="contact_id" target_attcode="email"/>
        <field name="role" xsi:type="AttributeString" sql="role" default_value="" is_null_allowed="true"/>
      </fields>
      <methods/>
      <presentation>
        <details>
          <items>
            <item>ci_id</item>
            <item>ci_status</item>
            <item>contact_id</item>
            <item>contact_email</item>
            <item>role</item>
          </items>
        </details>
        <search>
          <items>
            <item>ci_id</item>
            <item>contact_id</item>
            <item>role</item>
          </items>
        </search>
        <list>
          <items>
            <item>ci_id</item>
            <item>ci_status</item>
            <item>contact_id</item>
            <item>contact_email</item>
            <item>role</item>
          </items>
        </list>
      </presentation>
    </class>
    <class name="lnkSolutionToCI" category="bizmodel,configmgmt" parent="cmdbAbstractObject" abstract="false" key_type="autoincrement" is_link="1" db_table="lnksolutiontoci" db_key_field="id" db_final_class_field="">
      <properties>
        <naming format="%1$s">
          <attributes>
            <attribute name="solution_id"/>
          </attributes>
        </naming>
        <display_template></display_template>
        <icon></icon>
        <reconciliation>
          <attributes>
            <attribute name="solution_id"/>
            <attribute name="ci_id"/>
          </attributes>
        </reconciliation>
      </properties>
      <fields>
        <field name="solution_id" xsi:type="AttributeExternalKey" target_class="ApplicationSolution" jointype="" sql="solution_id" is_null_allowed="false" on_target_delete="DEL_AUTO"/>
        <field name="solution_name" xsi:type="AttributeExternalField" extkey_attcode="solution_id" target_attcode="name"/>
        <field name="ci_id" xsi:type="AttributeExternalKey" target_class="FunctionalCI" jointype="" sql="ci_id" is_null_allowed="false" on_target_delete="DEL_AUTO"/>
        <field name="ci_name" xsi:type="AttributeExternalField" extkey_attcode="ci_id" target_attcode="name"/>
        <field name="ci_status" xsi:type="AttributeExternalField" extkey_attcode="ci_id" target_attcode="status"/>
        <field name="utility" xsi:type="AttributeString" sql="utility" default_value="" is_null_allowed="true"/>
      </fields>
      <methods/>
      <presentation>
        <details>
          <items>
            <item>solution_id</item>
            <item>ci_id</item>
            <item>ci_status</item>
            <item>utility</item>
          </items>
        </details>
        <search>
          <items>
            <item>solution_id</item>
            <item>ci_id</item>
            <item>utility</item>
          </items>
        </search>
        <list>
          <items>
            <item>solution_id</item>
            <item>ci_id</item>
            <item>ci_status</item>
            <item>utility</item>
          </items>
        </list>
      </presentation>
    </class>
    <class name="lnkProcessToSolution" category="bizmodel,configmgmt" parent="cmdbAbstractObject" abstract="false" key_type="autoincrement" is_link="1" db_table="lnkprocesstosolution" db_key_field="id" db_final_class_field="">
      <properties>
        <naming format="%1$s">
          <attributes>
            <attribute name="solution_id"/>
          </attributes>
        </naming>
        <display_template></display_template>
        <icon></icon>
        <reconciliation>
          <attributes>
            <attribute name="solution_id"/>
            <attribute name="process_id"/>
          </attributes>
        </reconciliation>
      </properties>
      <fields>
        <field name="solution_id" xsi:type="AttributeExternalKey" target_class="ApplicationSolution" jointype="" sql="solution_id" is_null_allowed="false" on_target_delete="DEL_AUTO"/>
        <field name="solution_name" xsi:type="AttributeExternalField" extkey_attcode="solution_id" target_attcode="name"/>
        <field name="process_id" xsi:type="AttributeExternalKey" target_class="BusinessProcess" jointype="" sql="process_id" is_null_allowed="false" on_target_delete="DEL_AUTO"/>
        <field name="process_name" xsi:type="AttributeExternalField" extkey_attcode="process_id" target_attcode="name"/>
        <field name="reason" xsi:type="AttributeString" sql="reason" default_value="" is_null_allowed="true"/>
      </fields>
      <methods/>
      <presentation>
        <details>
          <items>
            <item>solution_id</item>
            <item>process_id</item>
            <item>reason</item>
          </items>
        </details>
        <search>
          <items>
            <item>solution_id</item>
            <item>process_id</item>
            <item>reason</item>
          </items>
        </search>
        <list>
          <items>
            <item>solution_id</item>
            <item>process_id</item>
            <item>reason</item>
          </items>
        </list>
      </presentation>
    </class>
  </classes>
  <menus>
    <menu id="DataAdministration" xsi:type="MenuGroup">
      <rank value="70"/>
      <enable_class value="Organization"/>
      <enable_action value="UR_ACTION_MODIFY"/>
      <enable_permission value="UR_ALLOWED_YES"/>
      <enable_stimulus value=""/>
    </menu>
    <menu id="Audit" xsi:type="WebPageMenuNode">
      <rank value="33"/>
      <parent value="DataAdministration"/>
      <url value="$pages/audit.php"/>
    </menu>
    <menu id="Catalogs" xsi:type="TemplateMenuNode">
      <rank value="50"/>
      <parent value="DataAdministration"/>
      <template_file value=""/>
    </menu>
    <menu id="Organization" xsi:type="OQLMenuNode">
      <rank value="10"/>
      <parent value="Catalogs"/>
      <oql value="SELECT Organization"/>
      <do_search value="1"/>
    </menu>
    <menu id="Application" xsi:type="OQLMenuNode">
      <rank value="20"/>
      <parent value="Catalogs"/>
      <oql value="SELECT Application"/>
      <do_search value=""/>
    </menu>
    <menu id="DBServer" xsi:type="OQLMenuNode">
      <rank value="40"/>
      <parent value="Catalogs"/>
      <oql value="SELECT DBServer"/>
      <do_search value=""/>
    </menu>
    <menu id="ConfigManagement" xsi:type="MenuGroup">
      <rank value="20"/>
    </menu>
    <menu id="ConfigManagementOverview" xsi:type="TemplateMenuNode">
      <rank value="0"/>
      <parent value="ConfigManagement"/>
      <template_file value="overview.html"/>
    </menu>
    <menu id="Contact" xsi:type="TemplateMenuNode">
      <rank value="1"/>
      <parent value="ConfigManagement"/>
      <template_file value="contacts_menu.html"/>
    </menu>
    <menu id="NewContact" xsi:type="NewObjectMenuNode">
      <rank value="1"/>
      <parent value="Contact"/>
      <class value="Contact"/>
    </menu>
    <menu id="SearchContacts" xsi:type="SearchMenuNode">
      <rank value="2"/>
      <parent value="Contact"/>
      <class value="Contact"/>
    </menu>
    <menu id="Document" xsi:type="OQLMenuNode">
      <rank value="2"/>
      <parent value="ConfigManagement"/>
      <oql value="SELECT Document"/>
      <do_search value="1"/>
    </menu>
    <menu id="Location" xsi:type="OQLMenuNode">
      <rank value="3"/>
      <parent value="ConfigManagement"/>
      <oql value="SELECT Location"/>
      <do_search value="1"/>
    </menu>
    <menu id="Group" xsi:type="OQLMenuNode">
      <rank value="4"/>
      <parent value="ConfigManagement"/>
      <oql value="SELECT Group"/>
      <do_search value="1"/>
    </menu>
    <menu id="ConfigManagementCI" xsi:type="TemplateMenuNode">
      <rank value="5"/>
      <parent value="ConfigManagement"/>
      <template_file value="cis_menu.html"/>
    </menu>
    <menu id="NewCI" xsi:type="NewObjectMenuNode">
      <rank value="0"/>
      <parent value="ConfigManagementCI"/>
      <class value="FunctionalCI"/>
    </menu>
    <menu id="SearchCIs" xsi:type="SearchMenuNode">
      <rank value="1"/>
      <parent value="ConfigManagementCI"/>
      <class value="FunctionalCI"/>
    </menu>
    <menu id="ConfigManagement:Shortcuts" xsi:type="TemplateMenuNode">
      <rank value="6"/>
      <parent value="ConfigManagement"/>
      <template_file value=""/>
    </menu>
    <menu id="Server" xsi:type="OQLMenuNode">
      <rank value="1"/>
      <parent value="ConfigManagement:Shortcuts"/>
      <oql value="SELECT Server"/>
      <do_search value=""/>
    </menu>
    <menu id="NetworkDevice" xsi:type="OQLMenuNode">
      <rank value="2"/>
      <parent value="ConfigManagement:Shortcuts"/>
      <oql value="SELECT NetworkDevice"/>
      <do_search value=""/>
    </menu>
    <menu id="Printer" xsi:type="OQLMenuNode">
      <rank value="3"/>
      <parent value="ConfigManagement:Shortcuts"/>
      <oql value="SELECT Printer"/>
      <do_search value=""/>
    </menu>
    <menu id="PC" xsi:type="OQLMenuNode">
      <rank value="4"/>
      <parent value="ConfigManagement:Shortcuts"/>
      <oql value="SELECT PC"/>
      <do_search value=""/>
    </menu>
    <menu id="BusinessProcess" xsi:type="OQLMenuNode">
      <rank value="5"/>
      <parent value="ConfigManagement:Shortcuts"/>
      <oql value="SELECT BusinessProcess"/>
      <do_search value=""/>
    </menu>
    <menu id="ApplicationSolution" xsi:type="OQLMenuNode">
      <rank value="6"/>
      <parent value="ConfigManagement:Shortcuts"/>
      <oql value="SELECT ApplicationSolution"/>
      <do_search value=""/>
    </menu>
  </menus>
</itop_design>
